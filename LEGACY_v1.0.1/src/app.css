/* Dark Forge Theme CSS Variables */
:root {
  /* Primary colors - Dark forge theme */
  --color-bg-primary: #1a1a1a;       /* Main background - deep black */
  --color-bg-secondary: #2d2d30;     /* Secondary surfaces - dark grey */
  --color-bg-tertiary: #3e3e42;      /* Elevated surfaces - lighter grey */
  
  /* Text colors */
  --color-text-primary: #f5f5f5;     /* Primary text - near white */
  --color-text-secondary: #d4d4d4;   /* Secondary text - light grey */
  --color-text-muted: #969696;       /* Muted text - medium grey */
  
  /* Forge accent colors */
  --color-forge-primary: #FF6B35;    /* Orange accent - main forge color */
  --color-forge-secondary: #E55A2B;  /* Darker orange for hover states */
  --color-forge-ember: #FF8C42;      /* Ember glow - lighter orange */
  
  /* Border colors */
  --color-border-primary: #404040;   /* Main borders */
  --color-border-secondary: #565656; /* Lighter borders */
  --color-border-accent: var(--color-forge-primary); /* Accent borders */
  
  /* Industrial forge borders */
  --border-forge-thick: 4px solid var(--color-forge-primary);
  --border-forge-heavy: 6px solid var(--color-forge-primary);
  --border-metal-frame: 3px solid #666666;
  --border-metal-inset: 2px inset #555555;
  
  /* Status colors */
  --color-success: #4CAF50;          /* Green for success */
  --color-warning: #FF9800;          /* Amber for warnings */
  --color-error: #F44336;            /* Red for errors */
  --color-info: #2196F3;             /* Blue for info */
  
  /* Currency colors */
  --color-steak: #CD853F;            /* Dragon steak color */
  --color-gold: #FFD700;             /* Dragon gold color */
  --color-scales: #8B5CF6;           /* Dragonscales purple */
  --color-gems: #06B6D4;             /* Gems cyan */
  
  /* Typography Scale - Enhanced for better hierarchy */
  --font-family-primary: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  --font-family-mono: 'Consolas', 'Monaco', 'Courier New', monospace;
  
  /* Enhanced Font Size Scale (increased from 14px base to 16px) */
  --font-size-xs: 0.75rem;    /* 12px - Fine print, captions */
  --font-size-sm: 0.875rem;   /* 14px - Small text, secondary info */
  --font-size-base: 1rem;     /* 16px - Body text (increased from 14px) */
  --font-size-lg: 1.125rem;   /* 18px - Large body text */
  --font-size-xl: 1.25rem;    /* 20px - Small headings */
  --font-size-2xl: 1.5rem;    /* 24px - Medium headings */
  --font-size-3xl: 1.875rem;  /* 30px - Large headings */
  --font-size-4xl: 2.25rem;   /* 36px - Main titles */
  
  /* Font Weight Scale */
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --font-weight-extrabold: 800;
  
  /* Line Height Scale */
  --line-height-tight: 1.2;
  --line-height-snug: 1.4;
  --line-height-normal: 1.6;
  --line-height-relaxed: 1.8;
  
  /* Spacing scale */
  --spacing-xs: 0.25rem;    /* 4px */
  --spacing-sm: 0.5rem;     /* 8px */
  --spacing-md: 0.75rem;    /* 12px */
  --spacing-lg: 1rem;       /* 16px */
  --spacing-xl: 1.5rem;     /* 24px */
  --spacing-2xl: 2rem;      /* 32px */
  
  /* Border radius */
  --radius-sm: 0.25rem;     /* 4px */
  --radius-md: 0.375rem;    /* 6px */
  --radius-lg: 0.5rem;      /* 8px */
  --radius-xl: 0.75rem;     /* 12px */
  
  /* Shadow definitions */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
  --shadow-forge: 0 0 20px rgba(255, 107, 53, 0.3); /* Orange glow */
  
  /* Industrial shadows and effects */
  --shadow-metal-deep: inset 0 4px 8px rgba(0, 0, 0, 0.6), 0 2px 4px rgba(0, 0, 0, 0.8);
  --shadow-metal-raised: 0 6px 12px rgba(0, 0, 0, 0.7), inset 0 1px 0 rgba(255, 255, 255, 0.1);
  --shadow-forge-intense: 0 0 30px rgba(255, 107, 53, 0.5), 0 0 60px rgba(255, 107, 53, 0.2);
  --shadow-ember-glow: 0 0 15px rgba(255, 140, 66, 0.6);
  
  /* Metal texture gradients */
  --gradient-metal-dark: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 50%, #2a2a2a 100%);
  --gradient-metal-frame: linear-gradient(145deg, #4a4a4a 0%, #2d2d2d 25%, #1a1a1a 50%, #2d2d2d 75%, #4a4a4a 100%);
  --gradient-forge-panel: linear-gradient(180deg, #3e3e42 0%, #2d2d30 50%, #1a1a1a 100%);
  --gradient-ember-bg: linear-gradient(135deg, rgba(255, 107, 53, 0.1) 0%, rgba(255, 107, 53, 0.05) 50%, rgba(255, 107, 53, 0.1) 100%);
  
  /* Transitions */
  --transition-fast: 0.15s ease-in-out;
  --transition-normal: 0.25s ease-in-out;
  --transition-slow: 0.35s ease-in-out;
}

/* Base styles */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-family: var(--font-family-primary);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
}

body {
  line-height: var(--line-height-normal);
  font-size: var(--font-size-base);
  min-height: 100vh;
  background: linear-gradient(135deg, 
    var(--color-bg-primary) 0%, 
    var(--color-bg-secondary) 100%);
}

/* Accessibility - High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --color-bg-primary: #000000;
    --color-bg-secondary: #1a1a1a;
    --color-text-primary: #ffffff;
    --color-forge-primary: #ff7700;
  }
}

/* Accessibility - Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  :root {
    --transition-fast: 0s;
    --transition-normal: 0s;
    --transition-slow: 0s;
  }
  
  * {
    animation-duration: 0s !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0s !important;
  }

  .forge-particles::before,
  .ambient-forge::before,
  .ember-flicker,
  .forge-glow-intense,
  .status-pulse,
  .forge-activated,
  .forge-ripple::after {
    animation: none !important;
  }
}

/* Color-blind friendly mode */
@media (prefers-contrast: more) {
  :root {
    --color-forge-primary: #ff8800;    /* More distinct orange */
    --color-success: #00cc00;          /* Brighter green */
    --color-error: #ff0000;            /* Pure red */
  }
}

/* Forge Particle and Ambient Effects */
@keyframes forgeParticles {
  0% { 
    transform: translateY(100px) scale(0);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% { 
    transform: translateY(-20px) scale(1);
    opacity: 0;
  }
}

@keyframes emberGlow {
  0%, 100% { 
    box-shadow: 0 0 5px rgba(255, 140, 66, 0.3);
    filter: brightness(1);
  }
  50% { 
    box-shadow: 0 0 20px rgba(255, 140, 66, 0.8);
    filter: brightness(1.3);
  }
}

@keyframes forgeFlicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
  75% { opacity: 0.9; }
}

@keyframes ambientPulse {
  0%, 100% { 
    background: var(--gradient-ember-bg);
  }
  50% { 
    background: linear-gradient(135deg, rgba(255, 107, 53, 0.15) 0%, rgba(255, 107, 53, 0.08) 50%, rgba(255, 107, 53, 0.15) 100%);
  }
}

/* Industrial Forge Component Classes */
.forge-panel {
  background: var(--gradient-forge-panel);
  border: var(--border-forge-thick);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-metal-raised);
  position: relative;
  overflow: hidden;
}

.forge-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--gradient-ember-bg);
  pointer-events: none;
  z-index: 0;
}

.forge-panel > * {
  position: relative;
  z-index: 1;
}

.metal-frame {
  background: var(--gradient-metal-frame);
  border: var(--border-metal-frame);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-metal-deep);
}

.forge-border-heavy {
  border: var(--border-forge-heavy);
  box-shadow: var(--shadow-forge-intense);
}

.forge-border-thick {
  border: var(--border-forge-thick);
  box-shadow: var(--shadow-forge);
}

.ember-glow {
  box-shadow: var(--shadow-ember-glow);
}

.metal-inset {
  border: var(--border-metal-inset);
  background: var(--gradient-metal-dark);
}

/* Rivet/Bolt decorations */
.forge-rivets::after {
  content: '';
  position: absolute;
  top: 8px;
  right: 8px;
  width: 12px;
  height: 12px;
  background: radial-gradient(circle, #666666 0%, #444444 50%, #222222 100%);
  border-radius: 50%;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.6);
}

.forge-rivets::before {
  content: '';
  position: absolute;
  top: 8px;
  left: 8px;
  width: 12px;
  height: 12px;
  background: radial-gradient(circle, #666666 0%, #444444 50%, #222222 100%);
  border-radius: 50%;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.6);
}

/* Corner rivets for larger panels */
.forge-corner-rivets {
  position: relative;
}

.forge-corner-rivets::before {
  content: '';
  position: absolute;
  top: 12px;
  left: 12px;
  width: 16px;
  height: 16px;
  background: radial-gradient(circle, #777777 0%, #555555 50%, #333333 100%);
  border-radius: 50%;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.7), 0 1px 2px rgba(255, 107, 53, 0.3);
  z-index: 10;
}

.forge-corner-rivets::after {
  content: '';
  position: absolute;
  top: 12px;
  right: 12px;
  width: 16px;
  height: 16px;
  background: radial-gradient(circle, #777777 0%, #555555 50%, #333333 100%);
  border-radius: 50%;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.7), 0 1px 2px rgba(255, 107, 53, 0.3);
  z-index: 10;
}

/* Enhanced Forge Effects */
.forge-particles::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(1px 1px at 20px 30px, rgba(255, 140, 66, 0.8), transparent),
    radial-gradient(1px 1px at 40px 70px, rgba(255, 107, 53, 0.6), transparent),
    radial-gradient(1px 1px at 90px 40px, rgba(255, 140, 66, 0.8), transparent),
    radial-gradient(1px 1px at 130px 80px, rgba(255, 107, 53, 0.6), transparent);
  animation: forgeParticles 4s infinite linear;
  pointer-events: none;
  z-index: 1;
  will-change: transform, opacity;
  transform: translateZ(0); /* Force GPU layer */
}

.ambient-forge {
  position: relative;
}

.ambient-forge::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  animation: ambientPulse 6s ease-in-out infinite;
  pointer-events: none;
  z-index: 0;
  will-change: background;
  transform: translateZ(0);
}

.ember-flicker {
  animation: emberGlow 2s ease-in-out infinite;
  will-change: box-shadow, filter;
  transform: translateZ(0);
}

.forge-glow-intense {
  box-shadow: 
    0 0 10px rgba(255, 107, 53, 0.4),
    0 0 20px rgba(255, 107, 53, 0.3),
    0 0 30px rgba(255, 107, 53, 0.2);
  animation: forgeFlicker 3s ease-in-out infinite;
  will-change: box-shadow, opacity;
  transform: translateZ(0);
}

/* Interactive Forge Elements */
.forge-interactive {
  transition: transform var(--transition-normal), box-shadow var(--transition-normal);
  cursor: pointer;
  will-change: transform, box-shadow;
}

.forge-interactive:hover {
  transform: translateY(-2px);
  box-shadow: 
    var(--shadow-metal-raised),
    0 0 15px rgba(255, 107, 53, 0.5);
}

.forge-interactive:active {
  transform: translateY(0);
  box-shadow: var(--shadow-metal-deep);
}

.forge-button {
  background: linear-gradient(145deg, var(--color-forge-primary) 0%, var(--color-forge-secondary) 100%);
  border: 2px solid var(--color-forge-ember);
  color: white;
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-md);
  font-weight: 600;
  cursor: pointer;
  transition: transform var(--transition-normal), box-shadow var(--transition-normal), background var(--transition-normal);
  position: relative;
  overflow: hidden;
  will-change: transform, box-shadow, background;
}

.forge-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left var(--transition-normal);
}

.forge-button:hover::before {
  left: 100%;
}

.forge-button:hover {
  background: linear-gradient(145deg, var(--color-forge-ember) 0%, var(--color-forge-primary) 100%);
  box-shadow: 
    0 0 20px rgba(255, 107, 53, 0.6),
    inset 0 2px 4px rgba(255, 255, 255, 0.1);
  transform: translateY(-1px);
}

.forge-button:active {
  transform: translateY(1px);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3);
}

.forge-panel {
  transition: box-shadow var(--transition-normal);
  will-change: box-shadow;
}

.forge-panel:hover {
  box-shadow: 
    var(--shadow-metal-raised),
    0 0 25px rgba(255, 107, 53, 0.3);
}

.metal-frame {
  transition: box-shadow var(--transition-normal);
  will-change: box-shadow;
}

.metal-frame:hover {
  box-shadow: 
    var(--shadow-metal-deep),
    0 0 15px rgba(255, 107, 53, 0.2);
}

/* Forge Feedback Systems */
@keyframes forgeActivation {
  0% { 
    box-shadow: 0 0 0 rgba(255, 107, 53, 0);
    transform: scale(1);
  }
  50% { 
    box-shadow: 0 0 20px rgba(255, 107, 53, 0.8);
    transform: scale(1.02);
  }
  100% { 
    box-shadow: 0 0 5px rgba(255, 107, 53, 0.4);
    transform: scale(1);
  }
}

@keyframes rippleEffect {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(4);
    opacity: 0;
  }
}

.forge-activated {
  animation: forgeActivation 0.6s ease-out;
}

.forge-ripple {
  position: relative;
  overflow: hidden;
}

.forge-ripple::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 5px;
  height: 5px;
  background: rgba(255, 107, 53, 0.6);
  border-radius: 50%;
  transform: scale(0);
  animation: rippleEffect 0.6s linear;
  pointer-events: none;
}

.forge-success-feedback {
  animation: forgeActivation 0.4s ease-out;
  box-shadow: 0 0 15px rgba(76, 175, 80, 0.6) !important;
}

.forge-error-feedback {
  animation: forgeActivation 0.4s ease-out;
  box-shadow: 0 0 15px rgba(244, 67, 54, 0.6) !important;
}

.status-pulse {
  animation: pulse 1.5s ease-in-out infinite;
  will-change: transform;
  transform: translateZ(0);
}

@keyframes statusGlow {
  0%, 100% { 
    box-shadow: 0 0 5px currentColor;
  }
  50% { 
    box-shadow: 0 0 15px currentColor, 0 0 25px currentColor;
  }
}

/* Performance optimization for low-end devices */
@media (max-width: 768px) and (max-height: 1024px) {
  .forge-particles::before,
  .ambient-forge::before {
    animation-duration: 8s; /* Slower animations on mobile */
  }
}

@media (prefers-reduced-motion: reduce) or (max-width: 480px) {
  .forge-particles::before,
  .ambient-forge::before,
  .ember-flicker,
  .forge-glow-intense,
  .status-pulse {
    animation: none !important;
  }
}

/* Enhanced Accessibility Focus States */
.forge-button:focus,
.forge-interactive:focus {
  outline: 3px solid var(--color-forge-ember);
  outline-offset: 3px;
  box-shadow: 
    var(--shadow-metal-raised),
    0 0 20px rgba(255, 140, 66, 0.8);
}

.forge-panel:focus-within {
  box-shadow: 
    var(--shadow-metal-raised),
    0 0 30px rgba(255, 107, 53, 0.4);
}

/* Typography Utility Classes for Enhanced Hierarchy */
.text-xs { font-size: var(--font-size-xs); }
.text-sm { font-size: var(--font-size-sm); }
.text-base { font-size: var(--font-size-base); }
.text-lg { font-size: var(--font-size-lg); }
.text-xl { font-size: var(--font-size-xl); }
.text-2xl { font-size: var(--font-size-2xl); }
.text-3xl { font-size: var(--font-size-3xl); }
.text-4xl { font-size: var(--font-size-4xl); }

.font-light { font-weight: var(--font-weight-light); }
.font-normal { font-weight: var(--font-weight-normal); }
.font-medium { font-weight: var(--font-weight-medium); }
.font-semibold { font-weight: var(--font-weight-semibold); }
.font-bold { font-weight: var(--font-weight-bold); }
.font-extrabold { font-weight: var(--font-weight-extrabold); }

.leading-tight { line-height: var(--line-height-tight); }
.leading-snug { line-height: var(--line-height-snug); }
.leading-normal { line-height: var(--line-height-normal); }
.leading-relaxed { line-height: var(--line-height-relaxed); }

/* Enhanced Heading Hierarchy */
h1, .heading-1 {
  font-size: var(--font-size-4xl);
  font-weight: var(--font-weight-extrabold);
  line-height: var(--line-height-tight);
  color: var(--color-forge-primary);
  text-shadow: 0 0 15px rgba(255, 107, 53, 0.4);
}

h2, .heading-2 {
  font-size: var(--font-size-3xl);
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-tight);
  color: var(--color-forge-primary);
  text-shadow: 0 0 10px rgba(255, 107, 53, 0.3);
}

h3, .heading-3 {
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-snug);
  color: var(--color-text-primary);
}

h4, .heading-4 {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-snug);
  color: var(--color-text-primary);
}

h5, .heading-5 {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-normal);
  color: var(--color-text-secondary);
}

h6, .heading-6 {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  line-height: var(--line-height-normal);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Text Hierarchy Helpers */
.text-primary { color: var(--color-text-primary); }
.text-secondary { color: var(--color-text-secondary); }
.text-muted { color: var(--color-text-muted); }
.text-forge { color: var(--color-forge-primary); }
.text-ember { color: var(--color-forge-ember); }

/* Responsive Typography */
@media (max-width: 768px) {
  h1, .heading-1 { font-size: var(--font-size-3xl); }
  h2, .heading-2 { font-size: var(--font-size-2xl); }
  h3, .heading-3 { font-size: var(--font-size-xl); }
  h4, .heading-4 { font-size: var(--font-size-lg); }
}

@media (max-width: 480px) {
  h1, .heading-1 { font-size: var(--font-size-2xl); }
  h2, .heading-2 { font-size: var(--font-size-xl); }
  h3, .heading-3 { font-size: var(--font-size-lg); }
  body { font-size: var(--font-size-sm); }
}

/* High contrast theme support */
@media (prefers-contrast: high) {
  .forge-button:focus,
  .forge-interactive:focus {
    outline: 4px solid var(--color-forge-primary);
    outline-offset: 4px;
  }
}