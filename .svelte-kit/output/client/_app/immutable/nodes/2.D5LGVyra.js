import"../chunks/CWj6FrbW.js";import"../chunks/c0Vudxov.js";import{z as qe,o as _e,af as ut,B as at,q as ft,w as pt,g as e,Z as Ee,x as gt,H as _t,y as We,A as Fe,J as ke,ag as mt,ak as ht,C as Ve,F as bt,D as xt,ao as st,ab as yt,Q as G,aI as Ye,aJ as Xe,G as rt,I as St,aK as Ie,aL as He,aM as nt,aN as Ne,aO as wt,ai as Et,aP as At,an as Tt,aQ as Ct,a0 as Mt,aR as it,M as Lt,aS as Rt,aT as zt,aU as Dt,aV as kt,aW as $t,p as fe,aX as Ke,aY as q,V as $,aZ as we,i as O,m as r,n as s,k as D,l as pe,s as b,t as ae,b as h,e as R,v as Re,aE as Je,aF as Oe,aD as $e,j as ze,a_ as Qe}from"../chunks/CnnOm75q.js";import{s as lt,b as Gt,a as ot,p as le,i as ne,c as It,d as Nt}from"../chunks/BtnN6u7Q.js";import{i as ge}from"../chunks/CxovZIYP.js";import{w as jt,g as vt,s as qt,d as Ft,c as Ge,p as Ht,a as Ot,u as Pt,e as Bt,b as Pe,f as Vt,h as Ut,i as Wt,j as Yt,k as Xt}from"../chunks/bj7mLRfK.js";import{o as Kt,s as k,e as ve,c as Jt}from"../chunks/CXVaydMT.js";function Se(_,l){return l}function Qt(_,l,t){for(var o=_.items,v=[],u=l.length,f=0;f<u;f++)At(l[f].e,v,!0);var y=u>0&&v.length===0&&t!==null;if(y){var M=t.parentNode;Tt(M),M.append(t),o.clear(),ye(_,l[0].prev,l[u-1].next)}Ct(v,()=>{for(var C=0;C<u;C++){var E=l[C];y||(o.delete(E.k),ye(_,E.prev,E.next)),nt(E.e,!y)}})}function he(_,l,t,o,v,u=null){var f=_,y={flags:l,items:new Map,first:null},M=(l&it)!==0;if(M){var C=_;f=_e?qe(ut(C)):C.appendChild(at())}_e&&ft();var E=null,n=!1,A=new Map,x=Ee(()=>{var i=t();return yt(i)?i:i==null?[]:st(i)}),c,T;function m(){Zt(T,c,y,A,f,v,l,o,t),u!==null&&(c.length===0?E?rt(E):E=Ve(()=>u(f)):E!==null&&St(E,()=>{E=null}))}pt(()=>{T??(T=Mt),c=e(x);var i=c.length;if(n&&i===0)return;n=i===0;let g=!1;if(_e){var S=gt(f)===_t;S!==(i===0)&&(f=We(),qe(f),Fe(!1),g=!0)}if(_e){for(var N=null,z,d=0;d<i;d++){if(ke.nodeType===mt&&ke.data===ht){f=ke,g=!0,Fe(!1);break}var p=c[d],w=o(p,d);z=Ue(ke,y,N,null,p,w,d,v,l,t),y.items.set(w,z),N=z}i>0&&qe(We())}if(_e)i===0&&u&&(E=Ve(()=>u(f)));else if(bt()){var I=new Set,F=xt;for(d=0;d<i;d+=1){p=c[d],w=o(p,d);var B=y.items.get(w)??A.get(w);B?l&(Ne|Ie)&&ct(B,p,d,l):(z=Ue(null,y,null,null,p,w,d,v,l,t,!0),A.set(w,z)),I.add(w)}for(const[Y,Q]of y.items)I.has(Y)||F.skipped_effects.add(Q.e);F.add_callback(m)}else m();g&&Fe(!0),e(x)}),_e&&(f=ke)}function Zt(_,l,t,o,v,u,f,y,M){var re,ee,te,V;var C=(f&Rt)!==0,E=(f&(Ne|Ie))!==0,n=l.length,A=t.items,x=t.first,c=x,T,m=null,i,g=[],S=[],N,z,d,p;if(C)for(p=0;p<n;p+=1)N=l[p],z=y(N,p),d=A.get(z),d!==void 0&&((re=d.a)==null||re.measure(),(i??(i=new Set)).add(d));for(p=0;p<n;p+=1){if(N=l[p],z=y(N,p),d=A.get(z),d===void 0){var w=o.get(z);if(w!==void 0){o.delete(z),A.set(z,w);var I=m?m.next:c;ye(t,m,w),ye(t,w,I),Be(w,I,v),m=w}else{var F=c?c.e.nodes_start:v;m=Ue(F,t,m,m===null?t.first:m.next,N,z,p,u,f,M)}A.set(z,m),g=[],S=[],c=m.next;continue}if(E&&ct(d,N,p,f),d.e.f&He&&(rt(d.e),C&&((ee=d.a)==null||ee.unfix(),(i??(i=new Set)).delete(d))),d!==c){if(T!==void 0&&T.has(d)){if(g.length<S.length){var B=S[0],Y;m=B.prev;var Q=g[0],X=g[g.length-1];for(Y=0;Y<g.length;Y+=1)Be(g[Y],B,v);for(Y=0;Y<S.length;Y+=1)T.delete(S[Y]);ye(t,Q.prev,X.next),ye(t,m,Q),ye(t,X,B),c=B,m=X,p-=1,g=[],S=[]}else T.delete(d),Be(d,c,v),ye(t,d.prev,d.next),ye(t,d,m===null?t.first:m.next),ye(t,m,d),m=d;continue}for(g=[],S=[];c!==null&&c.k!==z;)c.e.f&He||(T??(T=new Set)).add(c),S.push(c),c=c.next;if(c===null)continue;d=c}g.push(d),m=d,c=d.next}if(c!==null||T!==void 0){for(var j=T===void 0?[]:st(T);c!==null;)c.e.f&He||j.push(c),c=c.next;var Z=j.length;if(Z>0){var U=f&it&&n===0?v:null;if(C){for(p=0;p<Z;p+=1)(te=j[p].a)==null||te.measure();for(p=0;p<Z;p+=1)(V=j[p].a)==null||V.fix()}Qt(t,j,U)}}C&&Lt(()=>{var H;if(i!==void 0)for(d of i)(H=d.a)==null||H.apply()}),_.first=t.first&&t.first.e,_.last=m&&m.e;for(var K of o.values())nt(K.e);o.clear()}function ct(_,l,t,o){o&Ne&&Xe(_.v,l),o&Ie?Xe(_.i,t):_.i=t}function Ue(_,l,t,o,v,u,f,y,M,C,E){var n=(M&Ne)!==0,A=(M&wt)===0,x=n?A?G(v,!1,!1):Ye(v):v,c=M&Ie?Ye(f):f,T={i:c,v:x,k:u,a:null,e:null,prev:t,next:o};try{if(_===null){var m=document.createDocumentFragment();m.append(_=at())}return T.e=Ve(()=>y(_,x,c,C),_e),T.e.prev=t&&t.e,T.e.next=o&&o.e,t===null?E||(l.first=T):(t.next=T,t.e.next=T.e),o!==null&&(o.prev=T,o.e.prev=T.e),T}finally{}}function Be(_,l,t){for(var o=_.next?_.next.e.nodes_start:t,v=l?l.e.nodes_start:t,u=_.e.nodes_start;u!==null&&u!==o;){var f=Et(u);v.before(u),u=f}}function ye(_,l,t){l===null?_.first=t:(l.next=t,l.e.next=t&&t.e),t!==null&&(t.prev=l,t.e.prev=l&&l.e)}const Ze=[...` 	
\r\fÂ \v\uFEFF`];function ea(_,l,t){var o=_==null?"":""+_;if(l&&(o=o?o+" "+l:l),t){for(var v in t)if(t[v])o=o?o+" "+v:v;else if(o.length)for(var u=v.length,f=0;(f=o.indexOf(v,f))>=0;){var y=f+u;(f===0||Ze.includes(o[f-1]))&&(y===o.length||Ze.includes(o[y]))?o=(f===0?"":o.substring(0,f))+o.substring(y+1):f=y}}return o===""?null:o}function ta(_,l){return _==null?null:String(_)}function be(_,l,t,o,v,u){var f=_.__className;if(_e||f!==t||f===void 0){var y=ea(t,o,u);(!_e||y!==_.getAttribute("class"))&&(y==null?_.removeAttribute("class"):_.className=y),_.__className=t}else if(u&&v!==u)for(var M in u){var C=!!u[M];(v==null||C!==!!v[M])&&_.classList.toggle(M,C)}return u}function de(_,l,t,o){var v=_.__style;if(_e||v!==l){var u=ta(l);(!_e||u!==_.getAttribute("style"))&&(u==null?_.removeAttribute("style"):_.style.cssText=u),_.__style=l}return o}const aa=Symbol("is custom element"),sa=Symbol("is html");function Me(_,l,t,o){var v=ra(_);_e&&(v[l]=_.getAttribute(l),l==="src"||l==="srcset"||l==="href"&&_.nodeName==="LINK")||v[l]!==(v[l]=t)&&(l==="loading"&&(_[kt]=t),t==null?_.removeAttribute(l):typeof t!="string"&&na(_).includes(l)?_[l]=t:_.setAttribute(l,t))}function ra(_){return _.__attributes??(_.__attributes={[aa]:_.nodeName.includes("-"),[sa]:_.namespaceURI===zt})}var et=new Map;function na(_){var l=et.get(_.nodeName);if(l)return l;et.set(_.nodeName,l=[]);for(var t,o=_,v=Element.prototype;v!==o;){t=$t(o);for(var u in t)t[u].set&&l.push(u);o=Dt(o)}return l}var ia=O('<div class="combat-container svelte-ynamlo"><canvas class="game-canvas svelte-ynamlo">Your browser does not support HTML5 Canvas.</canvas></div>');function la(_,l){fe(l,!1);const[t,o]=ot(),v=()=>lt(vt,"$gameState",t),u=G(),f=G(),y=G(),M=G(),C=G();let E=G(),n,A;const x=1200,c=600,T=x*.2,m=c*.5;let i=[],g=[],S=[],N=1,z=0,d=0,p=0;function w(a){const W=T+60,J=a.type==="boss"?50:30;return{id:a.id,x:x+J,y:Math.random()*(c-J-80)+40,width:J,height:J,health:a.hp,maxHealth:a.maxHp,speed:a.type==="boss"?Q*.5:Q,targetX:W,targetY:Math.random()*(c-J-80)+40,level:a.level,type:a.type,element:a.element,damage:a.damage,abilities:a.abilities,gameEnemy:a}}const I=60,F=3*I,B=5*I,Y=1.5*I,Q=.25,X=3;Kt(()=>{n=e(E).getContext("2d"),Ke(E,e(E).width=x),Ke(E,e(E).height=c),j();const a=jt.subscribe(L=>{if(L){if(L.type==="enemy:spawn"){const W=w(L.enemy);g.push(W)}L.type==="enemy:defeated"&&console.log("Enemy defeated! Rewards:",L.rewards)}});return Z(),()=>{A&&cancelAnimationFrame(A),a()}});function j(){for(let a=0;a<8;a++)i.push({x:Math.random()*x,y:Math.random()*(c-200),size:20+Math.random()*40,speed:(.2+Math.random()*.8)*.25})}function Z(){function a(){z++,U(),te(),V(),ee(),H(),n.clearRect(0,0,x,c),K(),re(),Ae(),Te(),De(),me(),A=requestAnimationFrame(a)}a()}function U(){i.forEach(a=>{a.x-=a.speed,a.x<-a.size&&(a.x=x+a.size,a.y=Math.random()*(c-200))})}function K(){const a=n.createLinearGradient(0,0,0,c);a.addColorStop(0,"#1a1a1a"),a.addColorStop(.7,"#2d2d30"),a.addColorStop(1,"#3e3e42"),n.fillStyle=a,n.fillRect(0,0,x,c),n.fillStyle="#2a2a2a",n.beginPath(),n.moveTo(0,c*.7),n.quadraticCurveTo(x*.3,c*.6,x*.6,c*.65),n.quadraticCurveTo(x*.8,c*.7,x,c*.75),n.lineTo(x,c),n.lineTo(0,c),n.closePath(),n.fill();const L=n.createLinearGradient(0,c*.85,0,c);L.addColorStop(0,"rgba(255, 107, 53, 0.1)"),L.addColorStop(1,"rgba(255, 107, 53, 0.3)"),n.fillStyle=L,n.fillRect(0,c*.85,x,c*.15)}function re(){i.forEach(a=>{const L=n.createRadialGradient(a.x,a.y,0,a.x,a.y,a.size);L.addColorStop(0,"rgba(255, 140, 66, 0.8)"),L.addColorStop(.5,"rgba(255, 107, 53, 0.6)"),L.addColorStop(1,"rgba(255, 107, 53, 0.1)"),n.fillStyle=L,n.beginPath(),n.arc(a.x,a.y,a.size*.3,0,2*Math.PI),n.fill()})}function ee(){if(e(u)&&e(u).currentLevelState&&e(u).currentLevelState.isComplete)return;const a=d+F+Math.random()*(B-F);z>=a&&g.length<3&&(qt(),d=z)}function te(){g=g.filter(a=>(a.x>a.targetX&&(a.x-=a.speed),a.x>-a.width-50&&a.health>0))}function V(){S=S.filter(a=>{const L=a.targetX-a.x,W=a.targetY-a.y,J=Math.sqrt(L*L+W*W);return a.x+=L/J*a.speed,a.y+=W/J*a.speed,!(ue(a)||J<a.speed||a.x>x||a.x<0)})}function H(){if(z-p>=e(C)&&g.length>0){const a=se();if(a){for(let L=0;L<e(f);L++){const W=P(L).x,J=P(L).y,ie={id:N++,x:W,y:J,targetX:a.x+a.width/2,targetY:a.y+a.height/2,speed:X,damage:e(y)};S.push(ie)}p=z}}}function P(a){if(e(f)===1)return{x:T,y:m};const L=c/(e(f)+1);return{x:T,y:L*(a+1)}}function se(){if(g.length===0)return null;const a=P(0);let L=g[0],W=oe(a.x,a.y,L.x,L.y);for(const J of g){const ie=oe(a.x,a.y,J.x,J.y);ie<W&&(W=ie,L=J)}return L}function oe(a,L,W,J){const ie=W-a,Le=J-L;return Math.sqrt(ie*ie+Le*Le)}function ue(a){for(let L=0;L<g.length;L++){const W=g[L],J=a.x,ie=a.y;if(J>=W.x&&J<=W.x+W.width&&ie>=W.y&&ie<=W.y+W.height)return W.health-=a.damage,W.health<=0&&(Ft(W.id),g.splice(L,1)),!0}return!1}function Ae(){n.fillStyle="#000",n.font="24px Arial",n.textAlign="center";for(let a=0;a<e(f);a++){const L=P(a);n.fillText("ğŸ‰",L.x,L.y)}}function Te(){g.forEach(a=>{let L="#FF6B6B",W="ğŸ‘¹";if(a.type==="boss"?(L="#8B0000",W="ğŸ‰"):a.type==="elite"&&(L="#FF4500",W="ğŸ‘º"),n.fillStyle=L,n.fillRect(a.x,a.y,a.width,a.height),a.maxHealth>1){const J=a.width,ie=4,Le=a.health/a.maxHealth;n.fillStyle="#FF0000",n.fillRect(a.x,a.y-8,J,ie),n.fillStyle="#00FF00",n.fillRect(a.x,a.y-8,J*Le,ie)}n.fillStyle="#000",n.font=a.type==="boss"?"24px Arial":"16px Arial",n.textAlign="center",n.fillText(W,a.x+a.width/2,a.y+a.height/2+(a.type==="boss"?8:5)),a.level>1&&(n.font="10px Arial",n.fillStyle="#FFF",n.fillText(`L${a.level}`,a.x+a.width/2,a.y-2))})}function De(){S.forEach(a=>{n.fillStyle="#FFA500",n.beginPath(),n.arc(a.x,a.y,6,0,2*Math.PI),n.fill(),n.fillStyle="#000",n.font="12px Arial",n.textAlign="center",n.fillText("ğŸ”¥",a.x,a.y+3)})}function me(){e(u)&&e(u).travelState==="GATE"&&(n.fillStyle="rgba(255, 107, 53, 0.2)",n.fillRect(0,0,x,c),n.fillStyle="#FF6B35",n.font="bold 24px Arial",n.textAlign="center",n.fillText("âš ï¸ GATE AHEAD âš ï¸",x/2,c/2),n.font="16px Arial",n.fillText("Level gate reached - clear remaining enemies",x/2,c/2+30))}q(()=>v(),()=>{$(u,v())}),q(()=>e(u),()=>{var a,L;$(f,((L=(a=e(u))==null?void 0:a.dragonStats)==null?void 0:L.dragonCount)||1)}),q(()=>e(u),()=>{var a,L;$(y,((L=(a=e(u))==null?void 0:a.dragonStats)==null?void 0:L.damage)||1)}),q(()=>e(u),()=>{var a,L;$(M,((L=(a=e(u))==null?void 0:a.dragonStats)==null?void 0:L.fireRateMultiplier)||1)}),q(()=>e(M),()=>{$(C,Math.max(30,Math.floor(Y/e(M))))}),we(),ge();var xe=ia(),Ce=r(xe);Me(Ce,"width",x),Me(Ce,"height",c),Gt(Ce,a=>$(E,a),()=>e(E)),s(xe),D(_,xe),pe(),o()}function ce(_){return Math.floor(_).toLocaleString()}var oa=O('<div class="upgrade-item svelte-rtj9ss"><button><div class="upgrade-icon svelte-rtj9ss"> </div> <div class="upgrade-info svelte-rtj9ss"><div class="upgrade-name svelte-rtj9ss"> </div> <div class="upgrade-desc svelte-rtj9ss"> </div> <div class="upgrade-cost svelte-rtj9ss"> </div></div></button></div>'),va=O('<div class="upgrade-panel svelte-rtj9ss"><h3 class="svelte-rtj9ss">Upgrades</h3> <div class="stats-display svelte-rtj9ss"><div class="stat svelte-rtj9ss"><span class="stat-icon svelte-rtj9ss">âš”ï¸</span> <span class="stat-value svelte-rtj9ss"> </span></div> <div class="stat svelte-rtj9ss"><span class="stat-icon svelte-rtj9ss">â¤ï¸</span> <span class="stat-value svelte-rtj9ss"> </span></div> <div class="stat svelte-rtj9ss"><span class="stat-icon svelte-rtj9ss">ğŸ‰</span> <span class="stat-value svelte-rtj9ss"> </span></div></div> <div class="upgrade-list svelte-rtj9ss"></div></div>');function ca(_,l){fe(l,!1);let t=le(l,"gameState",8);const o=[{type:"damage",name:"Damage",description:"+1 damage per level",icon:"âš”ï¸"},{type:"fireRate",name:"Fire Rate",description:"+20% fire rate per level",icon:"ğŸ”¥"},{type:"health",name:"Health",description:"+5 HP per level",icon:"â¤ï¸"},{type:"extraDragons",name:"Extra Dragon",description:"Adds another dragon",icon:"ğŸ‰"}];function v(g){const S=Ge(g,t().upgrades[g]);t().currencies.steak.amount>=S&&Ht(g)}function u(g){const S=Ge(g,t().upgrades[g]);return t().currencies.steak.amount>=S}ge();var f=va(),y=b(r(f),2),M=r(y),C=b(r(M),2),E=r(C,!0);s(C),s(M);var n=b(M,2),A=b(r(n),2),x=r(A);s(A),s(n);var c=b(n,2),T=b(r(c),2),m=r(T,!0);s(T),s(c),s(y);var i=b(y,2);he(i,5,()=>o,Se,(g,S)=>{const N=Ee(()=>(R(t()),e(S),h(()=>t().upgrades[e(S).type]))),z=Ee(()=>(R(Ge),e(S),R(e(N)),h(()=>Ge(e(S).type,e(N))))),d=Ee(()=>(e(S),h(()=>u(e(S).type))));var p=oa(),w=r(p);let I;var F=r(w),B=r(F,!0);s(F);var Y=b(F,2),Q=r(Y),X=r(Q);s(Q);var j=b(Q,2),Z=r(j,!0);s(j);var U=b(j,2),K=r(U);s(U),s(Y),s(w),s(p),ae((re,ee)=>{I=be(w,1,"upgrade-btn svelte-rtj9ss",null,I,re),w.disabled=!e(d),k(B,(e(S),h(()=>e(S).icon))),k(X,`${e(S),h(()=>e(S).name)??""} (${e(N)??""})`),k(Z,(e(S),h(()=>e(S).description))),k(K,`${ee??""} copper`)},[()=>({affordable:e(d),expensive:!e(d)}),()=>(R(ce),R(e(z)),h(()=>ce(e(z))))]),ve("click",w,()=>v(e(S).type)),D(g,p)}),s(i),s(f),ae(()=>{k(E,(R(t()),h(()=>t().dragonStats.damage))),k(x,`${R(t()),h(()=>t().dragonStats.currentHp)??""}/${R(t()),h(()=>t().dragonStats.maxHp)??""}`),k(m,(R(t()),h(()=>t().dragonStats.dragonCount)))}),D(_,f),pe()}var da=O('<div class="boss-indicator svelte-1a242jo">BOSS</div>'),ua=O('<button><div class="level-icon svelte-1a242jo"> </div> <div class="level-number svelte-1a242jo"> </div> <!></button>'),fa=O('<div class="world-map svelte-1a242jo"><div class="region-header svelte-1a242jo"><h3 class="region-title svelte-1a242jo"> </h3> <div class="region-subtitle svelte-1a242jo"> </div></div> <div class="level-grid svelte-1a242jo"></div> <div class="map-legend svelte-1a242jo"><div class="legend-item svelte-1a242jo"><span class="legend-icon svelte-1a242jo">âš”ï¸</span> <span class="legend-text">Current</span></div> <div class="legend-item svelte-1a242jo"><span class="legend-icon svelte-1a242jo">âœ…</span> <span class="legend-text">Completed</span></div> <div class="legend-item svelte-1a242jo"><span class="legend-icon svelte-1a242jo">ğŸ°</span> <span class="legend-text">Available</span></div> <div class="legend-item svelte-1a242jo"><span class="legend-icon svelte-1a242jo">ğŸ‰</span> <span class="legend-text">Boss</span></div></div></div>');function pa(_,l){fe(l,!1);const t=G(),o=G(),v=G(),u=G(),f=G(),y=G(),M=G();let C=le(l,"gameState",8);const E=25;function n(d){e(o).includes(d)&&Ot(d)}function A(d){return e(v).includes(d)?"completed":d===e(t)?"current":e(o).includes(d)?"unlocked":"locked"}function x(d){return d%10===0}function c(d){return x(d)?"ğŸ‰":e(v).includes(d)?"âœ…":d===e(t)?"âš”ï¸":e(o).includes(d)?"ğŸ°":"ğŸ”’"}q(()=>R(C()),()=>{$(t,C().currentLevel)}),q(()=>R(C()),()=>{$(o,C().worldMap.unlockedLevels)}),q(()=>R(C()),()=>{$(v,C().worldMap.completedLevels)}),q(()=>R(C()),()=>{$(u,C().worldMap.currentRegion)}),q(()=>e(t),()=>{$(f,Math.max(1,Math.floor((e(t)-1)/E)*E+1))}),q(()=>(e(f),e(o)),()=>{$(y,Math.min(e(f)+E-1,Math.max(...e(o))))}),q(()=>(e(y),e(f)),()=>{$(M,Array.from({length:e(y)-e(f)+1},(d,p)=>e(f)+p))}),we(),ge();var T=fa(),m=r(T),i=r(m),g=r(i,!0);s(i);var S=b(i,2),N=r(S);s(S),s(m);var z=b(m,2);he(z,5,()=>e(M),Se,(d,p)=>{var w=ua(),I=r(w),F=r(I,!0);s(I);var B=b(I,2),Y=r(B,!0);s(B);var Q=b(B,2);{var X=j=>{var Z=da();D(j,Z)};ne(Q,j=>{e(p),h(()=>x(e(p)))&&j(X)})}s(w),ae((j,Z,U,K,re)=>{be(w,1,`level-node ${j??""} ${Z??""}`,"svelte-1a242jo"),w.disabled=U,Me(w,"title",`Level ${e(p)??""}${K??""}`),k(F,re),k(Y,e(p))},[()=>(e(p),h(()=>A(e(p)))),()=>(e(p),h(()=>x(e(p))?"boss":"")),()=>(e(o),e(p),h(()=>!e(o).includes(e(p)))),()=>(e(p),h(()=>x(e(p))?" (Boss)":"")),()=>(e(p),h(()=>c(e(p))))]),ve("click",w,()=>n(e(p))),D(d,w)}),s(z),Re(2),s(T),ae(()=>{k(g,e(u)),k(N,`Levels ${e(f)??""}-${e(y)??""}`)}),D(_,T),pe()}var ga=O('<div class="enhancement svelte-zy2loi"> </div>'),_a=O("<button>â¬†ï¸</button>"),ma=O('<div class="gear-item equipped svelte-zy2loi"><div class="gear-name svelte-zy2loi"> </div> <!> <button class="unequip-btn svelte-zy2loi" title="Unequip">âŒ</button> <!></div>'),ha=O('<div class="empty-slot svelte-zy2loi"><span class="empty-text svelte-zy2loi">Empty</span></div>'),ba=O('<div class="enhancement svelte-zy2loi"> </div>'),xa=O('<button class="gear-item available svelte-zy2loi"><div class="gear-name svelte-zy2loi"> </div> <!></button>'),ya=O('<div class="available-gear svelte-zy2loi"></div>'),Sa=O('<div class="equipment-slot svelte-zy2loi"><div class="slot-header svelte-zy2loi"><span class="slot-icon svelte-zy2loi"> </span> <span class="slot-name"> </span></div> <div class="equipped-gear svelte-zy2loi"><!></div> <!></div>'),wa=O('<div class="gear-panel svelte-zy2loi"><h3 class="panel-title svelte-zy2loi">Dragon Equipment</h3> <div class="equipment-grid svelte-zy2loi"></div></div>');function Ea(_,l){fe(l,!1);const t=G(),o=G();let v=le(l,"gameState",8);const u={helm:{name:"Helm",icon:"ğŸ‘‘"},chest:{name:"Chest",icon:"ğŸ›¡ï¸"},claws:{name:"Claws",icon:"ğŸ—¡ï¸"},tailSpike:{name:"Tail Spike",icon:"âš”ï¸"},wingGuards:{name:"Wing Guards",icon:"ğŸ›¡ï¸"},charm:{name:"Charm",icon:"ğŸ”®"},ring:{name:"Ring",icon:"ğŸ’"},breathFocus:{name:"Breath Focus",icon:"ğŸ’"}},f=Object.keys(u);function y(m){const i={Common:"#9CA3AF",Rare:"#3B82F6",Epic:"#8B5CF6",Legendary:"#F59E0B",Mythic:"#EF4444"};return i[m]||i.Common}function M(m){const i=[];return m.stats.damage&&i.push(`+${m.stats.damage} Damage`),m.stats.health&&i.push(`+${m.stats.health} Health`),m.stats.fireRate&&i.push(`+${Math.round(m.stats.fireRate*10)}% Fire Rate`),m.stats.critChance&&i.push(`+${Math.round(m.stats.critChance*100)}% Crit`),m.stats.critDamage&&i.push(`+${Math.round(m.stats.critDamage*100)}% Crit Dmg`),i.join(`
`)}function C(m,i){Bt(m,i)}function E(m){Pt(m)}function n(m){return e(o).filter(i=>i.slot===m)}function A(m,i){Vt(m.id,i)}function x(m){var g;if(m.enhancement>=25)return!1;const i=Pe(m);return((g=v().currencies.gold)==null?void 0:g.amount)>=i}q(()=>R(v()),()=>{$(t,v().equippedGear)}),q(()=>R(v()),()=>{$(o,v().inventory)}),we(),ge();var c=wa(),T=b(r(c),2);he(T,5,()=>f,m=>m,(m,i)=>{var g=Sa(),S=r(g),N=r(S),z=r(N,!0);s(N);var d=b(N,2),p=r(d,!0);s(d),s(S);var w=b(S,2),I=r(w);{var F=X=>{var j=ma(),Z=r(j),U=r(Z,!0);s(Z);var K=b(Z,2);{var re=H=>{var P=ga(),se=r(P);s(P),ae(()=>k(se,`+${e(t),e(i),h(()=>e(t)[e(i)].enhancement)??""}`)),D(H,P)};ne(K,H=>{e(t),e(i),h(()=>e(t)[e(i)].enhancement>0)&&H(re)})}var ee=b(K,2),te=b(ee,2);{var V=H=>{var P=_a();let se;ae((oe,ue,Ae)=>{se=be(P,1,"enhance-btn svelte-zy2loi",null,se,oe),P.disabled=ue,Me(P,"title",`Enhance (+${e(t),e(i),h(()=>e(t)[e(i)].enhancement+1)??""})\\nCost: ${Ae??""} Forgegold`)},[()=>({disabled:!x(e(t)[e(i)])}),()=>(e(t),e(i),h(()=>!x(e(t)[e(i)]))),()=>(R(ce),R(Pe),e(t),e(i),h(()=>ce(Pe(e(t)[e(i)]))))]),ve("click",P,()=>A(e(t)[e(i)],e(i))),D(H,P)};ne(te,H=>{e(t),e(i),h(()=>e(t)[e(i)].enhancement<25)&&H(V)})}s(j),ae((H,P,se)=>{de(j,`border-color: ${H??""}`),Me(j,"title",`${e(t),e(i),h(()=>e(t)[e(i)].name)??""}\\n${P??""}`),de(Z,`color: ${se??""}`),k(U,(e(t),e(i),h(()=>e(t)[e(i)].name)))},[()=>(e(t),e(i),h(()=>y(e(t)[e(i)].rarity))),()=>(e(t),e(i),h(()=>M(e(t)[e(i)]))),()=>(e(t),e(i),h(()=>y(e(t)[e(i)].rarity)))]),ve("click",ee,()=>E(e(i))),D(X,j)},B=X=>{var j=ha();D(X,j)};ne(I,X=>{e(t),e(i),h(()=>e(t)[e(i)])?X(F):X(B,!1)})}s(w);var Y=b(w,2);{var Q=X=>{var j=ya();he(j,5,()=>(e(i),h(()=>n(e(i)))),Se,(Z,U)=>{var K=xa(),re=r(K),ee=r(re,!0);s(re);var te=b(re,2);{var V=H=>{var P=ba(),se=r(P);s(P),ae(()=>k(se,`+${e(U),h(()=>e(U).enhancement)??""}`)),D(H,P)};ne(te,H=>{e(U),h(()=>e(U).enhancement>0)&&H(V)})}s(K),ae((H,P,se)=>{de(K,`border-color: ${H??""}`),Me(K,"title",`${e(U),h(()=>e(U).name)??""}\\n${P??""}\\n\\nClick to equip`),de(re,`color: ${se??""}`),k(ee,(e(U),h(()=>e(U).name)))},[()=>(e(U),h(()=>y(e(U).rarity))),()=>(e(U),h(()=>M(e(U)))),()=>(e(U),h(()=>y(e(U).rarity)))]),ve("click",K,()=>C(e(U).id,e(i))),D(Z,K)}),s(j),D(X,j)};ne(Y,X=>{e(i),h(()=>n(e(i)).length>0)&&X(Q)})}s(g),ae(()=>{k(z,(e(i),h(()=>u[e(i)].icon))),k(p,(e(i),h(()=>u[e(i)].name)))}),D(m,g)}),s(T),s(c),D(_,c),pe()}var Aa=O('<div class="counter svelte-1if1znq"><div class="icon gold svelte-1if1znq">ğŸª™</div> <div class="amount gold svelte-1if1znq"> </div> <div class="label svelte-1if1znq">Dragon Gold</div></div>'),Ta=O('<div class="counter svelte-1if1znq"><div class="icon dragonscales svelte-1if1znq">ğŸ²</div> <div class="amount scales svelte-1if1znq"> </div> <div class="label svelte-1if1znq">Dragonscales</div></div>'),Ca=O('<div class="counter svelte-1if1znq"><div class="icon gems svelte-1if1znq">ğŸ’</div> <div class="amount gems-color svelte-1if1znq"> </div> <div class="label svelte-1if1znq">Gems</div></div>'),Ma=O('<div class="treasury-panel svelte-1if1znq"><div class="level-info svelte-1if1znq"><div class="level-badge svelte-1if1znq"> </div> <div class="region-name svelte-1if1znq"> </div> <button class="test-btn svelte-1if1znq">Advance Level</button></div> <div class="currencies svelte-1if1znq"><div class="counter svelte-1if1znq"><div class="icon steak svelte-1if1znq">ğŸ¥©</div> <div class="amount svelte-1if1znq"> </div> <div class="label svelte-1if1znq">Dragon Steak</div></div> <!> <!> <!></div> <div class="upgrades-section svelte-1if1znq"><h3 class="section-title svelte-1if1znq">Dragon Upgrades</h3> <!></div></div>');function La(_,l){fe(l,!1);let t=le(l,"gameState",8);function o(){Ut()}ge();var v=Ma(),u=r(v),f=r(u),y=r(f);s(f);var M=b(f,2),C=r(M,!0);s(M);var E=b(M,2);s(u);var n=b(u,2),A=r(n),x=b(r(A),2),c=r(x,!0);s(x),Re(2),s(A);var T=b(A,2);{var m=p=>{var w=Aa(),I=b(r(w),2),F=r(I,!0);s(I),Re(2),s(w),ae(B=>k(F,B),[()=>(R(ce),R(t()),h(()=>ce(t().currencies.gold.amount)))]),D(p,w)};ne(T,p=>{R(t()),h(()=>t().currencies.gold.unlocked)&&p(m)})}var i=b(T,2);{var g=p=>{var w=Ta(),I=b(r(w),2),F=r(I,!0);s(I),Re(2),s(w),ae(B=>k(F,B),[()=>(R(ce),R(t()),h(()=>ce(t().currencies.dragonscales.amount)))]),D(p,w)};ne(i,p=>{R(t()),h(()=>t().currencies.dragonscales.unlocked)&&p(g)})}var S=b(i,2);{var N=p=>{var w=Ca(),I=b(r(w),2),F=r(I,!0);s(I),Re(2),s(w),ae(B=>k(F,B),[()=>(R(ce),R(t()),h(()=>ce(t().currencies.gems.amount)))]),D(p,w)};ne(S,p=>{R(t()),h(()=>t().currencies.gems.unlocked)&&p(N)})}s(n);var z=b(n,2),d=b(r(z),2);ca(d,{get gameState(){return t()}}),s(z),s(v),ae(p=>{k(y,`Level ${R(t()),h(()=>t().currentLevel)??""}`),k(C,(R(t()),h(()=>t().worldMap.currentRegion))),k(c,p)},[()=>(R(ce),R(t()),h(()=>ce(t().currencies.steak.amount)))]),ve("click",E,o),D(_,v),pe()}var Ra=O('<div><div class="material-icon svelte-122d785"> </div> <div class="material-info svelte-122d785"><div class="material-name svelte-122d785"> </div> <div class="material-count svelte-122d785"> </div></div></div>'),za=O('<span class="stat-bonus svelte-122d785"><!> </span>'),Da=O('<div><span class="req-icon svelte-122d785"> </span> <span class="req-text svelte-122d785"> </span> <span class="req-owned svelte-122d785"> </span></div>'),ka=O('<div><div class="recipe-header svelte-122d785"><div class="recipe-name svelte-122d785"> </div> <div> </div></div> <div class="recipe-stats svelte-122d785"></div> <div class="recipe-materials svelte-122d785"></div> <button> </button></div>'),$a=O('<div class="recipes-section svelte-122d785"><h4 class="svelte-122d785">ğŸ“œ Available Recipes</h4> <div class="recipes-list svelte-122d785"></div></div>'),Ga=O('<div class="locked-recipe svelte-122d785"><div class="locked-name svelte-122d785"> </div> <div class="unlock-req svelte-122d785"> </div></div>'),Ia=O('<div class="locked-section svelte-122d785"><h4 class="svelte-122d785">ğŸ”’ Locked Recipes</h4> <div class="locked-recipes svelte-122d785"></div></div>'),Na=O('<div class="crafting-panel svelte-122d785"><div class="panel-header svelte-122d785"><h3 class="svelte-122d785">ğŸ”¨ Dragoncrafting Forge</h3> <p class="subtitle svelte-122d785">Transform raw materials into powerful equipment</p></div> <div class="materials-section svelte-122d785"><h4 class="svelte-122d785">ğŸ“¦ Materials Inventory</h4> <div class="materials-grid svelte-122d785"></div></div> <!> <!></div>');function tt(_,l){fe(l,!1);const t=G(),o=G(),v=G(),u=G(),f=G();let y=le(l,"gameState",8);const M={emberdust:{name:"Ember Dust",color:"#ff6b35",icon:"ğŸ”¥"},frostshards:{name:"Frost Shards",color:"#4fb3d9",icon:"â„ï¸"},stormmotes:{name:"Storm Motes",color:"#9d4edd",icon:"âš¡"},venomglobules:{name:"Venom Globules",color:"#52b788",icon:"ğŸ§ª"},emberore:{name:"Ember Ore",color:"#d62828",icon:"ğŸ’"},frostmetal:{name:"Frost Metal",color:"#023047",icon:"ğŸ§Š"},stormsteel:{name:"Storm Steel",color:"#6f2dbd",icon:"âš¡"},shadowessence:{name:"Shadow Essence",color:"#2d1b69",icon:"ğŸŒ‘"}};function C(g){return e(t).currentLevel<g.requiredLevel?!1:g.materials.every(S=>e(o)[S.type]>=S.amount)}function E(g){Wt(g)}q(()=>R(y()),()=>{$(t,y())}),q(()=>e(t),()=>{var g;$(o,(g=e(t))==null?void 0:g.materials)}),q(()=>e(t),()=>{var g;$(v,((g=e(t))==null?void 0:g.recipes)||[])}),q(()=>e(v),()=>{$(u,e(v).filter(g=>g.unlocked))}),q(()=>e(v),()=>{$(f,e(v).filter(g=>!g.unlocked))}),we(),ge();var n=Na(),A=b(r(n),2),x=b(r(A),2);he(x,5,()=>(e(o),h(()=>Object.entries(e(o)||{}))),Se,(g,S)=>{var N=Je(()=>Qe(e(S),2));let z=()=>e(N)[0],d=()=>e(N)[1];const p=Ee(()=>(z(),h(()=>M[z()])));var w=Ra();let I;var F=r(w),B=r(F,!0);s(F);var Y=b(F,2),Q=r(Y),X=r(Q,!0);s(Q);var j=b(Q,2),Z=r(j,!0);s(j),s(Y),s(w),ae((U,K)=>{I=be(w,1,"material-item svelte-122d785",null,I,U),de(F,`color: ${R(e(p)),h(()=>e(p).color)??""}`),k(B,(R(e(p)),h(()=>e(p).icon))),k(X,(R(e(p)),h(()=>e(p).name))),k(Z,K)},[()=>({"has-materials":d()>0}),()=>(R(ce),d(),h(()=>ce(d())))]),D(g,w)}),s(x),s(A);var c=b(A,2);{var T=g=>{var S=$a(),N=b(r(S),2);he(N,5,()=>e(u),Se,(z,d)=>{const p=Ee(()=>(e(d),h(()=>C(e(d)))));var w=ka();let I;var F=r(w),B=r(F),Y=r(B,!0);s(B);var Q=b(B,2);let X;var j=r(Q,!0);s(Q),s(F);var Z=b(F,2);he(Z,5,()=>(e(d),h(()=>Object.entries(e(d).baseStats))),Se,(te,V)=>{var H=Je(()=>Qe(e(V),2));let P=()=>e(H)[0],se=()=>e(H)[1];var oe=za(),ue=r(oe);{var Ae=me=>{var xe=Oe("ğŸ’¥");D(me,xe)},Te=me=>{var xe=$e(),Ce=ze(xe);{var a=W=>{var J=Oe("â¤ï¸");D(W,J)},L=W=>{var J=$e(),ie=ze(J);{var Le=je=>{var dt=Oe("âš¡");D(je,dt)};ne(ie,je=>{P()==="fireRate"&&je(Le)},!0)}D(W,J)};ne(Ce,W=>{P()==="health"?W(a):W(L,!1)},!0)}D(me,xe)};ne(ue,me=>{P()==="damage"?me(Ae):me(Te,!1)})}var De=b(ue);s(oe),ae(()=>k(De,` +${se()??""}`)),D(te,oe)}),s(Z);var U=b(Z,2);he(U,5,()=>(e(d),h(()=>e(d).materials)),Se,(te,V)=>{const H=Ee(()=>(e(V),h(()=>M[e(V).type]))),P=Ee(()=>(e(o),e(V),h(()=>e(o)[e(V).type]>=e(V).amount)));var se=Da();let oe;var ue=r(se),Ae=r(ue,!0);s(ue);var Te=b(ue,2),De=r(Te);s(Te);var me=b(Te,2),xe=r(me);s(me),s(se),ae(Ce=>{oe=be(se,1,"material-requirement svelte-122d785",null,oe,Ce),de(ue,`color: ${R(e(H)),h(()=>e(H).color)??""}`),k(Ae,(R(e(H)),h(()=>e(H).icon))),k(De,`${e(V),h(()=>e(V).amount)??""} ${R(e(H)),h(()=>e(H).name)??""}`),k(xe,`(${e(o),e(V),h(()=>e(o)[e(V).type])??""}/${e(V),h(()=>e(V).amount)??""})`)},[()=>({insufficient:!e(P)})]),D(te,se)}),s(U);var K=b(U,2);let re;var ee=r(K,!0);s(K),s(w),ae((te,V,H)=>{I=be(w,1,"recipe-card svelte-122d785",null,I,te),k(Y,(e(d),h(()=>e(d).name))),X=be(Q,1,"recipe-rarity svelte-122d785",null,X,V),k(j,(e(d),h(()=>e(d).targetRarity))),re=be(K,1,"craft-button svelte-122d785",null,re,H),K.disabled=!e(p),k(ee,e(p)?"ğŸ”¨ Craft":"âŒ Insufficient Materials")},[()=>({"can-craft":e(p)}),()=>({common:e(d).targetRarity==="Common",rare:e(d).targetRarity==="Rare",epic:e(d).targetRarity==="Epic"}),()=>({enabled:e(p)})]),ve("click",K,()=>E(e(d).id)),D(z,w)}),s(N),s(S),D(g,S)};ne(c,g=>{e(u),h(()=>e(u).length>0)&&g(T)})}var m=b(c,2);{var i=g=>{var S=Ia(),N=b(r(S),2);he(N,5,()=>e(f),Se,(z,d)=>{var p=Ga(),w=r(p),I=r(w,!0);s(w);var F=b(w,2),B=r(F);s(F),s(p),ae(()=>{k(I,(e(d),h(()=>e(d).name))),k(B,`Unlock at Level ${e(d),h(()=>e(d).requiredLevel)??""}`)}),D(z,p)}),s(N),s(S),D(g,S)};ne(m,g=>{e(f),h(()=>e(f).length>0)&&g(i)})}s(n),D(_,n),pe()}var ja=O('<button><span class="tab-icon svelte-1h8ze5m"> </span> <span class="tab-label svelte-1h8ze5m"> </span></button>'),qa=O('<div class="tab-container svelte-1h8ze5m"><div class="tab-nav svelte-1h8ze5m"></div> <div class="tab-content svelte-1h8ze5m"><!></div></div>');function Fa(_,l){fe(l,!1);const t=G();let o=le(l,"tabs",24,()=>[]),v=le(l,"activeTab",12,"");const u=Jt();function f(A){v(A),u("tabchange",{tabId:A})}q(()=>(R(v()),R(o())),()=>{!v()&&o().length>0&&v(o()[0].id)}),q(()=>(R(o()),R(v())),()=>{$(t,o().find(A=>A.id===v()))}),we(),ge();var y=qa(),M=r(y);he(M,5,o,Se,(A,x)=>{var c=ja(),T=r(c),m=r(T,!0);s(T);var i=b(T,2),g=r(i,!0);s(i),s(c),ae(()=>{be(c,1,`tab-button ${R(v()),e(x),h(()=>v()===e(x).id?"active":"")??""}`,"svelte-1h8ze5m"),Me(c,"title",(e(x),h(()=>e(x).label))),k(m,(e(x),h(()=>e(x).icon))),k(g,(e(x),h(()=>e(x).label)))}),ve("click",c,()=>f(e(x).id)),D(A,c)}),s(M);var C=b(M,2),E=r(C);{var n=A=>{var x=$e(),c=ze(x);It(c,()=>e(t).component,(T,m)=>{m(T,Nt(()=>e(t).props||{}))}),D(A,x)};ne(E,A=>{e(t)&&A(n)})}s(C),s(y),D(_,y),pe()}var Ha=O('<div><div class="marker-dot svelte-11295dl"></div> <div class="marker-label svelte-11295dl"> </div></div>'),Oa=O('<div class="distance-pillar forge-panel forge-border-thick svelte-11295dl" role="region" aria-label="Dragon progress and level tracking"><div class="pillar-connection-point svelte-11295dl" title="Forge Power Conduit - Channeling energy from the main forge"></div> <div class="pillar-header svelte-11295dl"><div class="level-display svelte-11295dl"><span class="level-number svelte-11295dl"> </span> <div class="travel-state svelte-11295dl"><div></div> <span class="state-text svelte-11295dl"> </span></div></div></div> <div class="pillar-container svelte-11295dl"><div class="pillar-background svelte-11295dl"></div> <div class="pillar-progress svelte-11295dl"></div> <!> <div class="current-position svelte-11295dl"><div class="position-dot ember-glow svelte-11295dl"></div> <div class="position-label metal-inset svelte-11295dl"><div class="distance-current ember-glow ember-flicker svelte-11295dl"> </div> <div class="distance-target svelte-11295dl"> </div></div></div></div> <div class="pillar-footer svelte-11295dl"><div class="total-distance metal-frame forge-rivets svelte-11295dl"><span class="total-label svelte-11295dl">Total</span> <span class="total-value ember-glow ember-flicker svelte-11295dl"> </span></div></div></div>');function Pa(_,l){fe(l,!1);const t=G(),o=G(),v=G(),u=G(),f=G(),y=G(),M=G(),C=G(),E=G();let n=le(l,"gameState",8);function A(ee){return ee>=1e3?`${(ee/1e3).toFixed(1)}km`:`${Math.floor(ee)}m`}function x(){const ee=[],V=Math.max(1,e(t)-5),H=V+10-1;for(let P=V;P<=H;P++){const se=P<e(t),oe=P===e(t),ue=(P-V)/9*100;ee.push({level:P,position:100-ue,isPassed:se,isCurrent:oe})}return ee}q(()=>R(n()),()=>{$(t,n().currentLevel)}),q(()=>R(n()),()=>{$(o,n().levelDistance)}),q(()=>R(n()),()=>{$(v,n().levelDistanceTarget)}),q(()=>R(n()),()=>{$(u,n().totalDistance)}),q(()=>R(n()),()=>{$(f,n().travelState)}),q(()=>(e(o),e(v)),()=>{$(y,Math.min(e(o)/e(v),1))}),q(()=>{},()=>{$(M,x())}),q(()=>e(f),()=>{$(C,{ADVANCING:"var(--color-success)",HOVERING:"var(--color-text-muted)",RETREATING:"var(--color-error)",GATE:"var(--color-forge-primary)",TRAVEL_TO_TARGET:"var(--color-info)"}[e(f)]||"var(--color-text-muted)")}),q(()=>e(f),()=>{$(E,{ADVANCING:"Advancing",HOVERING:"Hovering",RETREATING:"Retreating",GATE:"At Gate",TRAVEL_TO_TARGET:"Traveling"}[e(f)]||"Unknown")}),we(),ge();var c=Oa(),T=b(r(c),2),m=r(T),i=r(m),g=r(i);s(i);var S=b(i,2),N=r(S),z=b(N,2),d=r(z,!0);s(z),s(S),s(m),s(T);var p=b(T,2),w=b(r(p),2),I=b(w,2);he(I,1,()=>e(M),Se,(ee,te)=>{var V=Ha();let H;var P=b(r(V),2),se=r(P);s(P),s(V),ae(oe=>{H=be(V,1,"level-marker forge-interactive svelte-11295dl",null,H,oe),de(V,`top: ${e(te),h(()=>e(te).position)??""}%`),k(se,`L${e(te),h(()=>e(te).level)??""}`)},[()=>({passed:e(te).isPassed,current:e(te).isCurrent})]),D(ee,V)});var F=b(I,2),B=b(r(F),2),Y=r(B),Q=r(Y,!0);s(Y);var X=b(Y,2),j=r(X);s(X),s(B),s(F),s(p);var Z=b(p,2),U=r(Z),K=b(r(U),2),re=r(K,!0);s(K),s(U),s(Z),s(c),ae((ee,te,V,H)=>{k(g,`L${e(t)??""}`),de(S,`color: ${e(C)??""}`),be(N,1,`state-indicator state-${ee??""}`,"svelte-11295dl"),de(N,`background-color: ${e(C)??""}`),k(d,e(E)),de(p,`--distance-progress: ${e(y)??""}`),de(w,`height: ${e(y)*100}%`),de(F,`bottom: ${e(y)*100}%`),k(Q,te),k(j,`/ ${V??""}`),k(re,H)},[()=>(e(f),h(()=>e(f).toLowerCase())),()=>(e(o),h(()=>A(e(o)))),()=>(e(v),h(()=>A(e(v)))),()=>(e(u),h(()=>A(e(u))))]),D(_,c),pe()}var Ba=O('<div class="top-bar forge-panel forge-border-heavy forge-corner-rivets forge-glow-intense svelte-1p7y7ir" role="banner" aria-label="Dragon status and navigation"><div class="title-section svelte-1p7y7ir"><h1 class="game-title svelte-1p7y7ir">Dragonforge Chronicles</h1> <div class="game-info svelte-1p7y7ir"><span class="level-info svelte-1p7y7ir"> </span> <span class="region-info svelte-1p7y7ir"> </span></div></div> <div class="status-section metal-frame forge-rivets svelte-1p7y7ir"><div class="state-display svelte-1p7y7ir"><div class="state-indicator ember-glow ember-flicker svelte-1p7y7ir"></div> <div class="state-label svelte-1p7y7ir">Dragon Status</div></div></div></div>');function Va(_,l){fe(l,!1);const t=G(),o=G(),v=G(),u=G();let f=le(l,"gameState",8);q(()=>R(f()),()=>{$(t,f().currentLevel)}),q(()=>R(f()),()=>{$(o,f().worldMap.currentRegion)}),q(()=>R(f()),()=>{$(v,f().travelState)}),q(()=>e(v),()=>{$(u,{ADVANCING:"var(--color-success)",HOVERING:"var(--color-text-muted)",RETREATING:"var(--color-error)",GATE:"var(--color-forge-primary)",TRAVEL_TO_TARGET:"var(--color-info)"}[e(v)]||"var(--color-text-muted)")}),we(),ge();var y=Ba(),M=r(y),C=b(r(M),2),E=r(C),n=r(E);s(E);var A=b(E,2),x=r(A,!0);s(A),s(C),s(M);var c=b(M,2),T=r(c),m=r(T);Re(2),s(T),s(c),s(y),ae(()=>{k(n,`Level ${e(t)??""}`),k(x,e(o)),de(m,`background-color: ${e(u)??""}`)}),D(_,y),pe()}var Ua=O('<button class="travel-button stop-button forge-button forge-ripple svelte-1jcwrev" aria-label="Stop Travel"><span class="button-icon svelte-1jcwrev">â¸ï¸</span> <span class="button-text svelte-1jcwrev">Stop</span></button>'),Wa=O('<button class="travel-button start-button forge-button forge-ripple svelte-1jcwrev" aria-label="Start Travel"><span class="button-icon svelte-1jcwrev">â–¶ï¸</span> <span class="button-text svelte-1jcwrev">Start</span></button>'),Ya=O('<div class="travel-controls metal-frame forge-rivets"><div class="travel-status svelte-1jcwrev"><div class="status-indicator status-pulse svelte-1jcwrev"></div> <span class="status-text svelte-1jcwrev"> </span></div> <div class="control-buttons svelte-1jcwrev"><!></div></div>');function Xa(_,l){fe(l,!1);const t=G(),o=G(),v=G();let u=le(l,"gameState",8);function f(){Xt()}function y(){Yt()}function M(g){switch(g){case"ADVANCING":return{text:"Advancing",color:"var(--color-success)"};case"HOVERING":return{text:"Hovering",color:"var(--color-text-muted)"};case"RETREATING":return{text:"Retreating",color:"var(--color-warning)"};case"GATE":return{text:"At Gate",color:"var(--color-forge-primary)"};case"TRAVEL_TO_TARGET":return{text:"Traveling",color:"var(--color-info)"};default:return{text:"Unknown",color:"var(--color-text-muted)"}}}q(()=>R(u()),()=>{$(t,u().travelState)}),q(()=>e(t),()=>{$(o,e(t)==="ADVANCING")}),q(()=>e(t),()=>{$(v,M(e(t)))}),we(),ge();var C=Ya(),E=r(C),n=r(E),A=b(n,2),x=r(A,!0);s(A),s(E);var c=b(E,2),T=r(c);{var m=g=>{var S=Ua();ve("click",S,y),D(g,S)},i=g=>{var S=Wa();ve("click",S,f),D(g,S)};ne(T,g=>{e(o)?g(m):g(i,!1)})}s(c),s(C),ae(()=>{de(n,`background-color: ${e(v),h(()=>e(v).color)??""}; animation: statusGlow 2s ease-in-out infinite`),k(x,(e(v),h(()=>e(v).text)))}),D(_,C),pe()}var Ka=O('<div class="controls-dock forge-panel metal-frame svelte-83wp8i"><div class="travel-section svelte-83wp8i"><!></div> <div class="nav-section svelte-83wp8i"><button class="dock-button forge-button forge-ripple svelte-83wp8i" aria-label="Open World Map" title="World Map - Select travel destination"><span class="button-icon svelte-83wp8i">ğŸ—ºï¸</span> <span class="button-text svelte-83wp8i">Map</span></button> <button class="dock-button forge-button forge-ripple svelte-83wp8i" aria-label="Return Home" title="Return to starting region"><span class="button-icon svelte-83wp8i">ğŸ </span> <span class="button-text svelte-83wp8i">Home</span></button></div></div>');function Ja(_,l){fe(l,!1);const t=G();let o=le(l,"gameState",8),v=le(l,"onMapToggle",8),u=le(l,"onGoHome",8);q(()=>R(o()),()=>{$(t,o().travelState)}),we(),ge();var f=Ka(),y=r(f),M=r(y);Xa(M,{get gameState(){return o()}}),s(y);var C=b(y,2),E=r(C),n=b(E,2);s(C),s(f),ve("click",E,function(...A){var x;(x=v())==null||x.apply(this,A)}),ve("click",n,function(...A){var x;(x=u())==null||x.apply(this,A)}),D(_,f),pe()}var Qa=O('<div class="drawer-overlay svelte-3fwdz3" role="dialog" aria-modal="true" aria-label="World Map" tabindex="-1"><div class="drawer-content forge-panel forge-border-heavy svelte-3fwdz3"><div class="drawer-header svelte-3fwdz3"><h2 class="drawer-title svelte-3fwdz3">World Map</h2> <button class="close-button forge-button svelte-3fwdz3" aria-label="Close World Map"><span class="close-icon svelte-3fwdz3">âœ•</span></button></div> <div class="drawer-body svelte-3fwdz3"><!></div></div></div>');function Za(_,l){fe(l,!1);let t=le(l,"gameState",8),o=le(l,"isOpen",8,!1),v=le(l,"onClose",8);function u(E){E.target===E.currentTarget&&v()()}function f(E){E.key==="Escape"&&v()()}ge();var y=$e(),M=ze(y);{var C=E=>{var n=Qa(),A=r(n),x=r(A),c=b(r(x),2);s(x);var T=b(x,2),m=r(T);pa(m,{get gameState(){return t()}}),s(T),s(A),s(n),ve("click",c,function(...i){var g;(g=v())==null||g.apply(this,i)}),ve("click",n,u),ve("keydown",n,f),D(E,n)};ne(M,E=>{o()&&E(C)})}D(_,y),pe()}var es=O('<div class="app-container svelte-zgf0p2"><!> <div class="dashboard svelte-zgf0p2"><div class="combat-area svelte-zgf0p2"><!></div> <div class="interface-panel forge-panel forge-corner-rivets ambient-forge svelte-zgf0p2"><div class="interface-content svelte-zgf0p2"><div class="tabs-area svelte-zgf0p2"><!></div> <div class="pillar-area svelte-zgf0p2"><div class="pillar-connector metal-frame svelte-zgf0p2"></div> <!></div></div></div></div> <!></div> <!>',1),ts=O('<div class="loading svelte-zgf0p2">Loading your treasury...</div>');function vs(_,l){fe(l,!1);const[t,o]=ot(),v=()=>lt(vt,"$gameState",t),u=G(),f=G();let y=G("treasury"),M=G(!1);function C(){$(M,!e(M))}function E(){$(M,!1)}function n(){console.log("Go home clicked")}q(()=>v(),()=>{$(u,v())}),q(()=>(e(u),tt),()=>{$(f,[{id:"treasury",label:"Treasury",icon:"ğŸ’°",component:La,props:{gameState:e(u)}},{id:"equipment",label:"Equipment",icon:"âš”ï¸",component:Ea,props:{gameState:e(u)}},{id:"crafting",label:"Crafting",icon:"ğŸ”¨",component:tt,props:{gameState:e(u)}}])}),we(),ge();var A=$e(),x=ze(A);{var c=m=>{var i=es(),g=ze(i),S=r(g);Va(S,{get gameState(){return e(u)}});var N=b(S,2),z=r(N),d=r(z);la(d,{}),s(z);var p=b(z,2),w=r(p),I=r(w),F=r(I);Fa(F,{get tabs(){return e(f)},get activeTab(){return e(y)},set activeTab(j){$(y,j)},$$events:{tabchange:j=>$(y,j.detail.tabId)},$$legacy:!0}),s(I);var B=b(I,2),Y=b(r(B),2);Pa(Y,{get gameState(){return e(u)}}),s(B),s(w),s(p),s(N);var Q=b(N,2);Ja(Q,{get gameState(){return e(u)},onMapToggle:C,onGoHome:n}),s(g);var X=b(g,2);Za(X,{get gameState(){return e(u)},get isOpen(){return e(M)},onClose:E}),D(m,i)},T=m=>{var i=ts();D(m,i)};ne(x,m=>{e(u)?m(c):m(T,!1)})}D(_,A),pe(),o()}export{vs as component};
