import{s as rt,n as at,r as st,o as it,b as lt,d as dt}from"../chunks/scheduler.86f77edc.js";import{S as pt,i as ut,b as d,s as A,t as w,f as p,g as _,d as h,c as I,m as X,h as C,j as t,a as ct,k as a,n as nt,l as L}from"../chunks/index.e78d2784.js";import{T as ft}from"../chunks/index.29d1603d.js";import{c as ot}from"../chunks/displayPool.2e449a50.js";import{A as vt}from"../chunks/Application.778f7409.js";function ht(u){let o,r,g,e,s,D="Simple Dragon Test",x,b,i,M="Spawn Dragon",S,n,f,Y="Recycle All",O,l,k,j,N,H,m,R,z=u[3].size()+"",q,G,P=u[3].inUse()+"",B,J,K,T,U=u[2]?"Texture loaded ✓":"Loading texture...",F,Q,Z;return{c(){o=d("div"),r=d("canvas"),g=A(),e=d("div"),s=d("h3"),s.textContent=D,x=A(),b=d("div"),i=d("button"),i.textContent=M,S=A(),n=d("div"),f=d("button"),f.textContent=Y,O=A(),l=d("div"),k=d("div"),j=w("Spawned: "),N=w(u[1]),H=A(),m=d("div"),R=w("Pool: "),q=w(z),G=w(" total, "),B=w(P),J=w(" in use"),K=A(),T=d("div"),F=w(U),this.h()},l(v){o=p(v,"DIV",{style:!0});var c=_(o);r=p(c,"CANVAS",{style:!0}),_(r).forEach(h),g=I(c),e=p(c,"DIV",{style:!0});var y=_(e);s=p(y,"H3",{style:!0,"data-svelte-h":!0}),X(s)!=="svelte-163u3m3"&&(s.textContent=D),x=I(y),b=p(y,"DIV",{style:!0});var $=_(b);i=p($,"BUTTON",{style:!0,"data-svelte-h":!0}),X(i)!=="svelte-a1h3bn"&&(i.textContent=M),$.forEach(h),S=I(y),n=p(y,"DIV",{style:!0});var tt=_(n);f=p(tt,"BUTTON",{style:!0,"data-svelte-h":!0}),X(f)!=="svelte-dfc7i4"&&(f.textContent=Y),tt.forEach(h),O=I(y),l=p(y,"DIV",{style:!0});var E=_(l);k=p(E,"DIV",{});var W=_(k);j=C(W,"Spawned: "),N=C(W,u[1]),W.forEach(h),H=I(E),m=p(E,"DIV",{});var V=_(m);R=C(V,"Pool: "),q=C(V,z),G=C(V," total, "),B=C(V,P),J=C(V," in use"),V.forEach(h),K=I(E),T=p(E,"DIV",{style:!0});var et=_(T);F=C(et,U),et.forEach(h),E.forEach(h),y.forEach(h),c.forEach(h),this.h()},h(){t(r,"width","100%"),t(r,"height","100%"),t(r,"display","block"),t(s,"margin","0 0 8px 0"),t(s,"font-size","14px"),t(i,"margin","2px"),t(i,"padding","6px 12px"),t(i,"background","#4CAF50"),t(b,"margin-bottom","8px"),t(f,"margin","2px"),t(f,"padding","6px 12px"),t(f,"background","#f44336"),t(n,"margin-bottom","8px"),t(T,"font-size","10px"),t(T,"color","#888"),t(l,"border-top","1px solid #444"),t(l,"padding-top","8px"),t(l,"margin-top","8px"),t(e,"position","absolute"),t(e,"right","8px"),t(e,"top","8px"),t(e,"background","rgba(0,0,0,.8)"),t(e,"color","#fff"),t(e,"padding","12px"),t(e,"border-radius","8px"),t(e,"font","12px system-ui"),t(e,"min-width","200px"),t(o,"position","fixed"),t(o,"inset","0"),t(o,"background","#1a1a2e")},m(v,c){ct(v,o,c),a(o,r),u[6](r),a(o,g),a(o,e),a(e,s),a(e,x),a(e,b),a(b,i),a(e,S),a(e,n),a(n,f),a(e,O),a(e,l),a(l,k),a(k,j),a(k,N),a(l,H),a(l,m),a(m,R),a(m,q),a(m,G),a(m,B),a(m,J),a(l,K),a(l,T),a(T,F),Q||(Z=[nt(i,"click",u[4]),nt(f,"click",u[5])],Q=!0)},p(v,[c]){c&2&&L(N,v[1]),c&8&&z!==(z=v[3].size()+"")&&L(q,z),c&8&&P!==(P=v[3].inUse()+"")&&L(B,P),c&4&&U!==(U=v[2]?"Texture loaded ✓":"Loading texture...")&&L(F,U)},i:at,o:at,d(v){v&&h(o),u[6](null),Q=!1,st(Z)}}}function gt(u,o,r){let g,e,s=0,D=null,x=ot(void 0,50);async function b(){try{r(2,D=ft.from("/sprites/dragon_fly_128_sheet.svg")),r(3,x=ot(D,50))}catch(n){console.error("Failed to load dragon texture:",n)}}function i(){if(!D)return;const n=x.acquire();n.visible=!0,n.position.set(Math.random()*(e.renderer.width-128),Math.random()*(e.renderer.height-128)),n.scale.set(.5),e.stage.addChild(n),r(1,s++,s)}function M(){for(const n of[...e.stage.children])"texture"in n&&x.release(n),e.stage.removeChild(n);r(1,s=0)}it(async()=>{e=new vt({view:g,backgroundAlpha:0}),await e.init({resizeTo:g.parentElement??window}),await b()}),lt(()=>e?.destroy(!0,{children:!0}));function S(n){dt[n?"unshift":"push"](()=>{g=n,r(0,g)})}return[g,s,D,x,i,M,S]}class wt extends pt{constructor(o){super(),ut(this,o,gt,ht,rt,{})}}export{wt as component};
