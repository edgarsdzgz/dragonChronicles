import{_ as h}from"../chunks/preload-helper.a4192956.js";import{s as L,n as b,c as v,o as N}from"../chunks/scheduler.86f77edc.js";import{S,i as V,s as E,e as g,c as P,a as c,d as f,b as u,t as F,f as m,g as x,h as y,j as i,k as d,l as M,m as T}from"../chunks/index.e78d2784.js";import{h as U,a as w}from"../chunks/store.3b89edcb.js";function D(n){let e,o,t,s,a;return{c(){e=u("div"),o=u("div"),t=F("HUD on — FPS: "),s=F(n[0]),a=E(),this.h()},l(l){e=m(l,"DIV",{style:!0});var r=x(e);o=m(r,"DIV",{});var p=x(o);t=y(p,"HUD on — FPS: "),s=y(p,n[0]),p.forEach(f),a=P(r),r.forEach(f),this.h()},h(){i(e,"position","absolute"),i(e,"top","8px"),i(e,"left","8px"),i(e,"padding","6px 10px"),i(e,"background","rgba(0,0,0,.55)"),i(e,"color","#fff"),i(e,"font","12px/1.2 system-ui"),i(e,"border-radius","6px")},m(l,r){c(l,e,r),d(e,o),d(o,t),d(o,s),d(e,a)},p(l,r){r&1&&M(s,l[0])},d(l){l&&f(e)}}}function k(n){let e,o="Add <code>?hud=1</code> to URL for FPS HUD";return{c(){e=u("div"),e.innerHTML=o,this.h()},l(t){e=m(t,"DIV",{style:!0,"data-svelte-h":!0}),T(e)!=="svelte-1awln0g"&&(e.innerHTML=o),this.h()},h(){i(e,"position","absolute"),i(e,"top","8px"),i(e,"left","8px"),i(e,"padding","6px"),i(e,"background","#222"),i(e,"color","#fff"),i(e,"font","12px"),i(e,"border-radius","4px")},m(t,s){c(t,e,s)},d(t){t&&f(e)}}}function A(n){let e,o,t=n[2]&&D(n),s=!n[2]&&k();return{c(){t&&t.c(),e=E(),s&&s.c(),o=g()},l(a){t&&t.l(a),e=P(a),s&&s.l(a),o=g()},m(a,l){t&&t.m(a,l),c(a,e,l),s&&s.m(a,l),c(a,o,l)},p(a,[l]){a[2]?t?t.p(a,l):(t=D(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),a[2]?s&&(s.d(1),s=null):s||(s=k(),s.c(),s.m(o.parentNode,o))},i:b,o:b,d(a){a&&(f(e),f(o)),t&&t.d(a),s&&s.d(a)}}}function R(n,e,o){let t,s;v(n,U,p=>o(2,t=p)),v(n,w,p=>o(3,s=p));let a=0,l=null,r=null;return N(async()=>{if(t){const[{FpsCounter:p},{getFlagDisplayName:I}]=await Promise.all([h(()=>import("../chunks/hud.f0b9006a.js"),[],import.meta.url),h(()=>import("../chunks/query.4ba2cf5e.js"),[],import.meta.url)]);l=p,o(1,r=I);const C=new l,H=setInterval(()=>{const _=C.sample();_.fps&&o(0,a=Math.round(_.fps))},250);return()=>clearInterval(H)}}),[a,r,t,s]}class B extends S{constructor(e){super(),V(this,e,R,A,L,{})}}export{B as component};
