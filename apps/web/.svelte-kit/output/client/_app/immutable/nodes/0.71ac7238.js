import{a as W,h as J}from"../chunks/store.3b89edcb.js";import{_ as T}from"../chunks/preload-helper.a4192956.js";import{s as K,f as U,u as G,g as H,h as Q,c as X,o as Y,b as Z,d as x}from"../chunks/scheduler.86f77edc.js";import{S as ee,i as te,b as N,s as L,f as V,g as C,d as $,c as M,j as w,a as b,k as O,r as p,u as g,v,x as k,y as E,e as P,z as I,A,w as y,B as D}from"../chunks/index.e78d2784.js";import"../chunks/index.29d1603d.js";import{A as ie}from"../chunks/Application.778f7409.js";const ne={hud:!1,devMenu:!1,logConsole:!1,useLegacyBgSim:!1,forceMode:"auto"};function le(){return{}}function se(s){return{}}function oe(s){return{...s.defaults,...s.env,...s.query}}function re(s){const e={env:le(),query:se(),defaults:ne};return oe(e)}const fe=({url:s})=>{const e=re();return W.set(e),{}},ve=Object.freeze(Object.defineProperty({__proto__:null,load:fe},Symbol.toStringTag,{value:"Module"}));function ae(s=globalThis.devicePixelRatio||1,e=1,i=2){return Math.max(e,Math.min(i,s))}let F=null;async function ue(s){const e=ae(),i=new ie({view:s,antialias:!1,resolution:e,autoDensity:!0,backgroundAlpha:0});await i.init({resizeTo:s.parentElement??window}),F||(F=(await T(()=>import("../chunks/background.cec36ef6.js"),[],import.meta.url)).createBackgroundSim);const o=F(2),n=()=>{document.hidden?(i.ticker.stopped||i.ticker.stop(),o.start()):(o.stop(),i.ticker.stopped&&i.ticker.start())};return document.addEventListener("visibilitychange",n),n(),{app:i,resize:()=>i.renderer.resize(s.clientWidth,s.clientHeight),destroy:()=>{document.removeEventListener("visibilitychange",n),o.stop(),i.destroy(!0,{children:!0})}}}const ce=s=>({}),R=s=>({});function z(s){let e;const i=s[6].hud,o=U(i,s,s[5],R);return{c(){o&&o.c()},l(n){o&&o.l(n)},m(n,u){o&&o.m(n,u),e=!0},p(n,u){o&&o.p&&(!e||u&32)&&G(o,i,n,n[5],e?Q(i,n[5],u,ce):H(n[5]),R)},i(n){e||(p(o,n),e=!0)},o(n){g(o,n),e=!1},d(n){o&&o.d(n)}}}function B(s){let e,i,o;var n=s[1];function u(t,f){return{}}return n&&(e=k(n,u())),{c(){e&&E(e.$$.fragment),i=P()},l(t){e&&I(e.$$.fragment,t),i=P()},m(t,f){e&&A(e,t,f),b(t,i,f),o=!0},p(t,f){if(f&2&&n!==(n=t[1])){if(e){y();const d=e;g(d.$$.fragment,1,0,()=>{D(d,1)}),v()}n?(e=k(n,u()),E(e.$$.fragment),p(e.$$.fragment,1),A(e,i.parentNode,i)):e=null}},i(t){o||(e&&p(e.$$.fragment,t),o=!0)},o(t){e&&g(e.$$.fragment,t),o=!1},d(t){t&&$(i),e&&D(e,t)}}}function j(s){let e,i,o;var n=s[2];function u(t,f){return{}}return n&&(e=k(n,u())),{c(){e&&E(e.$$.fragment),i=P()},l(t){e&&I(e.$$.fragment,t),i=P()},m(t,f){e&&A(e,t,f),b(t,i,f),o=!0},p(t,f){if(f&4&&n!==(n=t[2])){if(e){y();const d=e;g(d.$$.fragment,1,0,()=>{D(d,1)}),v()}n?(e=k(n,u()),E(e.$$.fragment),p(e.$$.fragment,1),A(e,i.parentNode,i)):e=null}},i(t){o||(e&&p(e.$$.fragment,t),o=!0)},o(t){e&&g(e.$$.fragment,t),o=!1},d(t){t&&$(i),e&&D(e,t)}}}function q(s){let e,i,o;var n=s[3];function u(t,f){return{}}return n&&(e=k(n,u())),{c(){e&&E(e.$$.fragment),i=P()},l(t){e&&I(e.$$.fragment,t),i=P()},m(t,f){e&&A(e,t,f),b(t,i,f),o=!0},p(t,f){if(f&8&&n!==(n=t[3])){if(e){y();const d=e;g(d.$$.fragment,1,0,()=>{D(d,1)}),v()}n?(e=k(n,u()),E(e.$$.fragment),p(e.$$.fragment,1),A(e,i.parentNode,i)):e=null}},i(t){o||(e&&p(e.$$.fragment,t),o=!0)},o(t){e&&g(e.$$.fragment,t),o=!1},d(t){t&&$(i),e&&D(e,t)}}}function _e(s){let e,i,o,n,u,t,f,d,c=s[4]&&z(s),_=s[1]&&B(s),m=s[2]&&j(s),r=s[3]&&q(s);const S=s[6].default,h=U(S,s,s[5],null);return{c(){e=N("div"),i=N("canvas"),o=L(),c&&c.c(),n=L(),_&&_.c(),u=L(),m&&m.c(),t=L(),r&&r.c(),f=L(),h&&h.c(),this.h()},l(l){e=V(l,"DIV",{style:!0});var a=C(e);i=V(a,"CANVAS",{style:!0}),C(i).forEach($),o=M(a),c&&c.l(a),a.forEach($),n=M(l),_&&_.l(l),u=M(l),m&&m.l(l),t=M(l),r&&r.l(l),f=M(l),h&&h.l(l),this.h()},h(){w(i,"width","100%"),w(i,"height","100%"),w(i,"display","block"),w(e,"position","fixed"),w(e,"inset","0"),w(e,"overflow","hidden")},m(l,a){b(l,e,a),O(e,i),s[7](i),O(e,o),c&&c.m(e,null),b(l,n,a),_&&_.m(l,a),b(l,u,a),m&&m.m(l,a),b(l,t,a),r&&r.m(l,a),b(l,f,a),h&&h.m(l,a),d=!0},p(l,[a]){l[4]?c?(c.p(l,a),a&16&&p(c,1)):(c=z(l),c.c(),p(c,1),c.m(e,null)):c&&(y(),g(c,1,1,()=>{c=null}),v()),l[1]?_?(_.p(l,a),a&2&&p(_,1)):(_=B(l),_.c(),p(_,1),_.m(u.parentNode,u)):_&&(y(),g(_,1,1,()=>{_=null}),v()),l[2]?m?(m.p(l,a),a&4&&p(m,1)):(m=j(l),m.c(),p(m,1),m.m(t.parentNode,t)):m&&(y(),g(m,1,1,()=>{m=null}),v()),l[3]?r?(r.p(l,a),a&8&&p(r,1)):(r=q(l),r.c(),p(r,1),r.m(f.parentNode,f)):r&&(y(),g(r,1,1,()=>{r=null}),v()),h&&h.p&&(!d||a&32)&&G(h,S,l,l[5],d?Q(S,l[5],a,null):H(l[5]),null)},i(l){d||(p(c),p(_),p(m),p(r),p(h,l),d=!0)},o(l){g(c),g(_),g(m),g(r),g(h,l),d=!1},d(l){l&&($(e),$(n),$(u),$(t),$(f)),s[7](null),c&&c.d(),_&&_.d(l),m&&m.d(l),r&&r.d(l),h&&h.d(l)}}}function me(s,e,i){let o;X(s,J,r=>i(4,o=r));let{$$slots:n={},$$scope:u}=e,t,f=null,d=null,c=null,_=null;Y(async()=>{f=await ue(t);const[{default:r},{default:S},{default:h}]=await Promise.all([T(()=>import("../chunks/UpdateToast.dec1864d.js"),["../chunks/UpdateToast.dec1864d.js","../chunks/scheduler.86f77edc.js","../chunks/index.e78d2784.js","../assets/UpdateToast.e36696b1.css"],import.meta.url),T(()=>import("../chunks/InstallPrompt.220615ea.js"),["../chunks/InstallPrompt.220615ea.js","../chunks/scheduler.86f77edc.js","../chunks/index.e78d2784.js","../assets/InstallPrompt.0384ea2f.css"],import.meta.url),T(()=>import("../chunks/DevMenu.42a96e21.js"),["../chunks/DevMenu.42a96e21.js","../chunks/scheduler.86f77edc.js","../chunks/index.e78d2784.js","../chunks/store.3b89edcb.js","../chunks/index.045e0b2e.js","../chunks/navigation.ea798918.js","../chunks/singletons.5ab518cc.js","../assets/DevMenu.69b59bfc.css"],import.meta.url)]);i(1,d=r),i(2,c=S),i(3,_=h)}),Z(()=>f?.destroy());function m(r){x[r?"unshift":"push"](()=>{t=r,i(0,t)})}return s.$$set=r=>{"$$scope"in r&&i(5,u=r.$$scope)},[t,d,c,_,o,u,n,m]}class ye extends ee{constructor(e){super(),te(this,e,me,_e,K,{})}}export{ye as component,ve as universal};
