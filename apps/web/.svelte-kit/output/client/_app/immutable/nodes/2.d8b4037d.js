var w=Object.defineProperty;var H=(n,e,t)=>e in n?w(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var m=(n,e,t)=>(H(n,typeof e!="symbol"?e+"":e,t),t);import{a as I,n as _,c as b,o as S}from"../chunks/scheduler.fce5cbda.js";import{S as E,i as P,s as F,k as v,f as M,g as d,d as p,e as u,t as x,c as h,a as k,b as g,l as r,h as c,j as U,m as C}from"../chunks/index.f66cbd13.js";import{h as L,a as V}from"../chunks/store.11ce8278.js";class N{constructor(){m(this,"last",performance.now());m(this,"frames",0)}sample(){this.frames++;const e=performance.now(),t=e-this.last;if(t>=1e3){const a={fps:this.frames*1e3/t,frames:this.frames,timeMs:t};return this.frames=0,this.last=e,a}return{fps:0,frames:this.frames,timeMs:t}}}function y(n){let e,t,s,a,o;return{c(){e=u("div"),t=u("div"),s=x("HUD on — FPS: "),a=x(n[0]),o=F(),this.h()},l(i){e=h(i,"DIV",{style:!0});var l=k(e);t=h(l,"DIV",{});var f=k(t);s=g(f,"HUD on — FPS: "),a=g(f,n[0]),f.forEach(p),o=M(l),l.forEach(p),this.h()},h(){r(e,"position","absolute"),r(e,"top","8px"),r(e,"left","8px"),r(e,"padding","6px 10px"),r(e,"background","rgba(0,0,0,.55)"),r(e,"color","#fff"),r(e,"font","12px/1.2 system-ui"),r(e,"border-radius","6px")},m(i,l){d(i,e,l),c(e,t),c(t,s),c(t,a),c(e,o)},p(i,l){l&1&&U(a,i[0])},d(i){i&&p(e)}}}function D(n){let e,t="Add <code>?hud=1</code> to URL for FPS HUD";return{c(){e=u("div"),e.innerHTML=t,this.h()},l(s){e=h(s,"DIV",{style:!0,"data-svelte-h":!0}),C(e)!=="svelte-1awln0g"&&(e.innerHTML=t),this.h()},h(){r(e,"position","absolute"),r(e,"top","8px"),r(e,"left","8px"),r(e,"padding","6px"),r(e,"background","#222"),r(e,"color","#fff"),r(e,"font","12px"),r(e,"border-radius","4px")},m(s,a){d(s,e,a)},d(s){s&&p(e)}}}function T(n){let e,t,s=n[1]&&y(n),a=!n[1]&&D();return{c(){s&&s.c(),e=F(),a&&a.c(),t=v()},l(o){s&&s.l(o),e=M(o),a&&a.l(o),t=v()},m(o,i){s&&s.m(o,i),d(o,e,i),a&&a.m(o,i),d(o,t,i)},p(o,[i]){o[1]?s?s.p(o,i):(s=y(o),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),o[1]?a&&(a.d(1),a=null):a||(a=D(),a.c(),a.m(t.parentNode,t))},i:_,o:_,d(o){o&&(p(e),p(t)),s&&s.d(o),a&&a.d(o)}}}function j(n,e,t){let s,a;b(n,L,i=>t(1,s=i)),b(n,V,i=>t(2,a=i));let o=0;return S(()=>{const i=new N,l=setInterval(()=>{const f=i.sample();f.fps&&t(0,o=Math.round(f.fps))},250);return()=>clearInterval(l)}),[o,s,a]}class B extends E{constructor(e){super(),P(this,e,j,T,I,{})}}export{B as component};
