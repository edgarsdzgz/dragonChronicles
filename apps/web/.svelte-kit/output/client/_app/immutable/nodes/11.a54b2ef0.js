import{s as K,n as J,r as L,o as Q,b as W,d as X}from"../chunks/scheduler.86f77edc.js";import{S as Y,i as Z,b as m,s as T,t as y,f as _,g as A,d as S,c as E,m as O,h as x,j as n,a as $,k as e,n as G,l as tt}from"../chunks/index.e78d2784.js";import"../chunks/index.29d1603d.js";import{c as et}from"../chunks/displayPool.2e449a50.js";import{A as nt}from"../chunks/Application.778f7409.js";import{G as at}from"../chunks/Graphics.83a923f7.js";function st(i){let a,o,c,t,s,w="Spawn 100",g,r,D="Spawn 1000",M,u,l="Recycle All",C,h,f,V,q,p,z,R=i[2].size()+"",I,N,F=i[2].inUse()+"",P,U,j,H;return{c(){a=m("div"),o=m("canvas"),c=T(),t=m("div"),s=m("button"),s.textContent=w,g=T(),r=m("button"),r.textContent=D,M=T(),u=m("button"),u.textContent=l,C=T(),h=m("div"),f=y("Spawned: "),V=y(i[1]),q=T(),p=m("div"),z=y("Pool: "),I=y(R),N=y(" total, "),P=y(F),U=y(" in use"),this.h()},l(b){a=_(b,"DIV",{style:!0});var v=A(a);o=_(v,"CANVAS",{style:!0}),A(o).forEach(S),c=E(v),t=_(v,"DIV",{style:!0});var d=A(t);s=_(d,"BUTTON",{style:!0,"data-svelte-h":!0}),O(s)!=="svelte-1qhjeqz"&&(s.textContent=w),g=E(d),r=_(d,"BUTTON",{style:!0,"data-svelte-h":!0}),O(r)!=="svelte-5ycajb"&&(r.textContent=D),M=E(d),u=_(d,"BUTTON",{"data-svelte-h":!0}),O(u)!=="svelte-1vyv9z2"&&(u.textContent=l),C=E(d),h=_(d,"DIV",{});var B=A(h);f=x(B,"Spawned: "),V=x(B,i[1]),B.forEach(S),q=E(d),p=_(d,"DIV",{});var k=A(p);z=x(k,"Pool: "),I=x(k,R),N=x(k," total, "),P=x(k,F),U=x(k," in use"),k.forEach(S),d.forEach(S),v.forEach(S),this.h()},h(){n(o,"width","100%"),n(o,"height","100%"),n(o,"display","block"),n(s,"margin-right","6px"),n(r,"margin-right","6px"),n(t,"position","absolute"),n(t,"right","8px"),n(t,"top","8px"),n(t,"background","rgba(0,0,0,.6)"),n(t,"color","#fff"),n(t,"padding","8px"),n(t,"border-radius","6px"),n(t,"font","12px system-ui"),n(a,"position","fixed"),n(a,"inset","0")},m(b,v){$(b,a,v),e(a,o),i[5](o),e(a,c),e(a,t),e(t,s),e(t,g),e(t,r),e(t,M),e(t,u),e(t,C),e(t,h),e(h,f),e(h,V),e(t,q),e(t,p),e(p,z),e(p,I),e(p,N),e(p,P),e(p,U),j||(H=[G(s,"click",i[6]),G(r,"click",i[7]),G(u,"click",i[4])],j=!0)},p(b,[v]){v&2&&tt(V,b[1])},i:J,o:J,d(b){b&&S(a),i[5](null),j=!1,L(H)}}}function ot(i,a,o){let c,t,s=0;const w=et(void 0,200);function g(l){for(let C=0;C<l;C++){const h=new at().circle(Math.random()*6+2).fill(16777215*Math.random()),f=w.acquire();f.visible=!0,f.position.set(Math.random()*t.renderer.width,Math.random()*t.renderer.height),f.texture=t.renderer.generateTexture(h),t.stage.addChild(f),o(1,s++,s)}}function r(){for(const l of[...t.stage.children])"texture"in l&&w.release(l),t.stage.removeChild(l);o(1,s=0)}Q(async()=>{t=new nt({view:c,backgroundAlpha:0}),await t.init({resizeTo:c.parentElement??window})}),W(()=>t?.destroy(!0,{children:!0}));function D(l){X[l?"unshift":"push"](()=>{c=l,o(0,c)})}return[c,s,w,g,r,D,()=>g(100),()=>g(1e3)]}class ut extends Y{constructor(a){super(),Z(this,a,ot,st,K,{})}}export{ut as component};
