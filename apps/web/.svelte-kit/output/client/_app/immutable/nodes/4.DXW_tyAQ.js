import{s as K,n as J,r as L,o as Q,d as W,b as X}from"../chunks/scheduler.DCi9tjgp.js";import{S as Y,i as Z,d as S,s as $,a as tt,b as a,z as O,l as o,c as m,e as T,g as A,m as G,f as y,h as g,j as z,t as w}from"../chunks/index.BID5roI-.js";import{S as et,A as nt}from"../chunks/index.B-5O6jHt.js";import{G as at}from"../chunks/Graphics.qFUuEsXt.js";function rt(i,r=()=>{},e=0){const s=[];let t=0;for(let n=0;n<e;n++){const p=i();t++,s.push(p)}return{acquire(){const n=s.pop();return n||(t++,i())},release(n){r(n),s.push(n)},size(){return t},inUse(){return t-s.length}}}function it(i,r=0){return rt(()=>new et(i),e=>{e.visible=!1,e.alpha=1,e.rotation=0,e.scale.set(1),e.position.set(0,0),e.parent?.removeChild(e)},r)}function ot(i){let r,e,s,t,n,p="Spawn 100",b,c,E="Spawn 1000",q,h,l="Recycle All",C,f,v,D,M,u,P,R=i[2].size()+"",U,V,F=i[2].inUse()+"",j,I,N,H;return{c(){r=g("div"),e=g("canvas"),s=z(),t=g("div"),n=g("button"),n.textContent=p,b=z(),c=g("button"),c.textContent=E,q=z(),h=g("button"),h.textContent=l,C=z(),f=g("div"),v=w("Spawned: "),D=w(i[1]),M=z(),u=g("div"),P=w("Pool: "),U=w(R),V=w(" total, "),j=w(F),I=w(" in use"),this.h()},l(x){r=m(x,"DIV",{style:!0});var _=T(r);e=m(_,"CANVAS",{style:!0}),T(e).forEach(S),s=A(_),t=m(_,"DIV",{style:!0});var d=T(t);n=m(d,"BUTTON",{style:!0,"data-svelte-h":!0}),G(n)!=="svelte-1qhjeqz"&&(n.textContent=p),b=A(d),c=m(d,"BUTTON",{style:!0,"data-svelte-h":!0}),G(c)!=="svelte-5ycajb"&&(c.textContent=E),q=A(d),h=m(d,"BUTTON",{"data-svelte-h":!0}),G(h)!=="svelte-1vyv9z2"&&(h.textContent=l),C=A(d),f=m(d,"DIV",{});var B=T(f);v=y(B,"Spawned: "),D=y(B,i[1]),B.forEach(S),M=A(d),u=m(d,"DIV",{});var k=T(u);P=y(k,"Pool: "),U=y(k,R),V=y(k," total, "),j=y(k,F),I=y(k," in use"),k.forEach(S),d.forEach(S),_.forEach(S),this.h()},h(){o(e,"width","100%"),o(e,"height","100%"),o(e,"display","block"),o(n,"margin-right","6px"),o(c,"margin-right","6px"),o(t,"position","absolute"),o(t,"right","8px"),o(t,"top","8px"),o(t,"background","rgba(0,0,0,.6)"),o(t,"color","#fff"),o(t,"padding","8px"),o(t,"border-radius","6px"),o(t,"font","12px system-ui"),o(r,"position","fixed"),o(r,"inset","0")},m(x,_){tt(x,r,_),a(r,e),i[5](e),a(r,s),a(r,t),a(t,n),a(t,b),a(t,c),a(t,q),a(t,h),a(t,C),a(t,f),a(f,v),a(f,D),a(t,M),a(t,u),a(u,P),a(u,U),a(u,V),a(u,j),a(u,I),N||(H=[O(n,"click",i[6]),O(c,"click",i[7]),O(h,"click",i[4])],N=!0)},p(x,[_]){_&2&&$(D,x[1])},i:J,o:J,d(x){x&&S(r),i[5](null),N=!1,L(H)}}}function st(i,r,e){let s,t,n=0;const p=it(void 0,200);function b(l){for(let C=0;C<l;C++){const f=new at().circle(Math.random()*6+2).fill(16777215*Math.random()),v=p.acquire();v.visible=!0,v.position.set(Math.random()*t.renderer.width,Math.random()*t.renderer.height),v.texture=t.renderer.generateTexture(f),t.stage.addChild(v),e(1,n++,n)}}function c(){for(const l of[...t.stage.children])"texture"in l&&p.release(l),t.stage.removeChild(l);e(1,n=0)}Q(async()=>{t=new nt({view:s,backgroundAlpha:0}),await t.init({resizeTo:s.parentElement??window})}),W(()=>t?.destroy(!0,{children:!0}));function E(l){X[l?"unshift":"push"](()=>{s=l,e(0,s)})}return[s,n,p,b,c,E,()=>b(100),()=>b(1e3)]}class pt extends Y{constructor(r){super(),Z(this,r,st,ot,K,{})}}export{pt as component};
