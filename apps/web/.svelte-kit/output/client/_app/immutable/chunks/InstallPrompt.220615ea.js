import{s as H,n as j,o as N,b as U,r as A}from"./scheduler.86f77edc.js";import{S as O,i as S,e as M,a as B,d as b,b as f,s as C,f as u,g as k,m as g,c as D,o as a,k as d,n as P}from"./index.e78d2784.js";function V(p){let l,t,e,n='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" fill="currentColor"></path></svg>',c,i,v='<div id="install-title" class="install-prompt__title svelte-16t91j5">Install Draconia Chronicles</div> <div id="install-description" class="install-prompt__message svelte-16t91j5">Install this app on your device for a better gaming experience with offline play.</div>',_,o,s,x="Install",I,r,T="Not now",L,E;return{c(){l=f("div"),t=f("div"),e=f("div"),e.innerHTML=n,c=C(),i=f("div"),i.innerHTML=v,_=C(),o=f("div"),s=f("button"),s.textContent=x,I=C(),r=f("button"),r.textContent=T,this.h()},l(h){l=u(h,"DIV",{class:!0,role:!0,"aria-labelledby":!0,"aria-describedby":!0});var w=k(l);t=u(w,"DIV",{class:!0});var m=k(t);e=u(m,"DIV",{class:!0,"data-svelte-h":!0}),g(e)!=="svelte-19xnkk1"&&(e.innerHTML=n),c=D(m),i=u(m,"DIV",{class:!0,"data-svelte-h":!0}),g(i)!=="svelte-13founr"&&(i.innerHTML=v),_=D(m),o=u(m,"DIV",{class:!0});var y=k(o);s=u(y,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),g(s)!=="svelte-1bgr1yg"&&(s.textContent=x),I=D(y),r=u(y,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),g(r)!=="svelte-4fzknk"&&(r.textContent=T),y.forEach(b),m.forEach(b),w.forEach(b),this.h()},h(){a(e,"class","install-prompt__icon svelte-16t91j5"),a(i,"class","install-prompt__text svelte-16t91j5"),a(s,"class","install-prompt__button install-prompt__button--primary svelte-16t91j5"),a(s,"aria-label","Install Draconia Chronicles"),a(r,"class","install-prompt__button install-prompt__button--secondary svelte-16t91j5"),a(r,"aria-label","Dismiss install prompt"),a(o,"class","install-prompt__actions svelte-16t91j5"),a(t,"class","install-prompt__content svelte-16t91j5"),a(l,"class","install-prompt svelte-16t91j5"),a(l,"role","dialog"),a(l,"aria-labelledby","install-title"),a(l,"aria-describedby","install-description")},m(h,w){B(h,l,w),d(l,t),d(t,e),d(t,c),d(t,i),d(t,_),d(t,o),d(o,s),d(o,I),d(o,r),L||(E=[P(s,"click",p[2]),P(r,"click",p[3])],L=!0)},p:j,d(h){h&&b(l),L=!1,A(E)}}}function q(p){let l,t=p[0]&&!p[1]&&V(p);return{c(){t&&t.c(),l=M()},l(e){t&&t.l(e),l=M()},m(e,n){t&&t.m(e,n),B(e,l,n)},p(e,[n]){e[0]&&!e[1]?t?t.p(e,n):(t=V(e),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},i:j,o:j,d(e){e&&b(l),t&&t.d(e)}}}function z(p,l,t){let e=null,n=!1,c=!1;N(()=>{typeof window>"u"||(window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",v),(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0)&&t(1,c=!0))}),U(()=>{typeof window>"u"||(window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("appinstalled",v))});function i(s){s.preventDefault(),e=s,t(0,n=!0)}function v(){console.log("PWA was installed"),t(1,c=!0),t(0,n=!1),e=null}async function _(){if(!e)return;e.prompt();const{outcome:s}=await e.userChoice;console.log(s==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e=null,t(0,n=!1)}function o(){t(0,n=!1)}return[n,c,_,o]}class F extends O{constructor(l){super(),S(this,l,z,q,H,{})}}export{F as default};
