import { s as subscribe } from "../../chunks/utils.js";
import { c as create_ssr_component, o as onDestroy, a as add_attribute, v as validate_component } from "../../chunks/ssr.js";
import "pixi.js";
import { h as hudEnabled } from "../../chunks/flags.js";
performance.now();
const css$1 = {
  code: ".update-toast.svelte-1uwaqt1.svelte-1uwaqt1{position:fixed;top:20px;right:20px;z-index:1000;max-width:400px;background:rgba(26, 26, 26, 0.95);backdrop-filter:blur(10px);border:1px solid rgba(74, 144, 226, 0.3);border-radius:12px;box-shadow:0 8px 32px rgba(0, 0, 0, 0.3);animation:svelte-1uwaqt1-slideIn 0.3s ease-out}.update-toast--installing.svelte-1uwaqt1.svelte-1uwaqt1{border-color:rgba(255, 107, 107, 0.3)}.update-toast__content.svelte-1uwaqt1.svelte-1uwaqt1{display:flex;align-items:flex-start;gap:12px;padding:16px}.update-toast__icon.svelte-1uwaqt1.svelte-1uwaqt1{flex-shrink:0;width:24px;height:24px;color:#4a90e2;display:flex;align-items:center;justify-content:center}.update-toast--installing.svelte-1uwaqt1 .update-toast__icon.svelte-1uwaqt1{color:#ff6b6b}.update-toast__spinner.svelte-1uwaqt1.svelte-1uwaqt1{width:20px;height:20px;border:2px solid rgba(255, 107, 107, 0.3);border-top:2px solid #ff6b6b;border-radius:50%;animation:svelte-1uwaqt1-spin 1s linear infinite}.update-toast__text.svelte-1uwaqt1.svelte-1uwaqt1{flex:1;min-width:0}.update-toast__title.svelte-1uwaqt1.svelte-1uwaqt1{font-size:14px;font-weight:600;color:#ffffff;margin-bottom:4px}.update-toast__message.svelte-1uwaqt1.svelte-1uwaqt1{font-size:13px;color:#cccccc;line-height:1.4}.update-toast__actions.svelte-1uwaqt1.svelte-1uwaqt1{display:flex;gap:8px;margin-top:12px}.update-toast__button.svelte-1uwaqt1.svelte-1uwaqt1{padding:8px 16px;border:none;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;transition:all 0.2s ease}.update-toast__button--primary.svelte-1uwaqt1.svelte-1uwaqt1{background:#4a90e2;color:#ffffff}.update-toast__button--primary.svelte-1uwaqt1.svelte-1uwaqt1:hover{background:#3a7bc8}.update-toast__button--secondary.svelte-1uwaqt1.svelte-1uwaqt1{background:rgba(255, 255, 255, 0.1);color:#cccccc}.update-toast__button--secondary.svelte-1uwaqt1.svelte-1uwaqt1:hover{background:rgba(255, 255, 255, 0.2)}@keyframes svelte-1uwaqt1-slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes svelte-1uwaqt1-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@media(max-width: 480px){.update-toast.svelte-1uwaqt1.svelte-1uwaqt1{top:10px;right:10px;left:10px;max-width:none}.update-toast__actions.svelte-1uwaqt1.svelte-1uwaqt1{flex-direction:column}.update-toast__button.svelte-1uwaqt1.svelte-1uwaqt1{width:100%}}",
  map: `{"version":3,"file":"UpdateToast.svelte","sources":["UpdateToast.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount, onDestroy } from 'svelte';\\nimport { getUpdateManager } from './update-manager';\\nlet updateInfo = {\\n    isUpdateAvailable: false,\\n    isInstalling: false,\\n    isInstalled: false,\\n};\\nlet isVisible = false;\\nlet unsubscribe = null;\\nonMount(() => {\\n    // Only run in browser environment\\n    if (typeof window === 'undefined')\\n        return;\\n    const updateManager = getUpdateManager();\\n    // Subscribe to update events\\n    unsubscribe = updateManager.onUpdate((info) => {\\n        updateInfo = info;\\n        isVisible = info.isUpdateAvailable && !info.isInstalling;\\n    });\\n    // Check for updates on mount\\n    updateManager.checkForUpdates();\\n});\\nonDestroy(() => {\\n    if (unsubscribe) {\\n        unsubscribe();\\n    }\\n});\\nasync function handleUpdate() {\\n    const updateManager = getUpdateManager();\\n    await updateManager.applyUpdate();\\n}\\nfunction handleDismiss() {\\n    isVisible = false;\\n}\\n<\/script>\\r\\n\\r\\n{#if isVisible}\\r\\n  <div class=\\"update-toast\\" role=\\"alert\\" aria-live=\\"polite\\">\\r\\n    <div class=\\"update-toast__content\\">\\r\\n      <div class=\\"update-toast__icon\\">\\r\\n        <svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\r\\n          <path d=\\"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z\\" fill=\\"currentColor\\"/>\\r\\n        </svg>\\r\\n      </div>\\r\\n      <div class=\\"update-toast__text\\">\\r\\n        <div class=\\"update-toast__title\\">Update Available</div>\\r\\n        <div class=\\"update-toast__message\\">A new version of Draconia Chronicles is ready to install.</div>\\r\\n      </div>\\r\\n      <div class=\\"update-toast__actions\\">\\r\\n        <button \\r\\n          class=\\"update-toast__button update-toast__button--primary\\"\\r\\n          on:click={handleUpdate}\\r\\n          aria-label=\\"Install update\\"\\r\\n        >\\r\\n          Update\\r\\n        </button>\\r\\n        <button \\r\\n          class=\\"update-toast__button update-toast__button--secondary\\"\\r\\n          on:click={handleDismiss}\\r\\n          aria-label=\\"Dismiss update notification\\"\\r\\n        >\\r\\n          Later\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n{/if}\\r\\n\\r\\n{#if updateInfo.isInstalling}\\r\\n  <div class=\\"update-toast update-toast--installing\\" role=\\"status\\" aria-live=\\"polite\\">\\r\\n    <div class=\\"update-toast__content\\">\\r\\n      <div class=\\"update-toast__icon\\">\\r\\n        <div class=\\"update-toast__spinner\\"></div>\\r\\n      </div>\\r\\n      <div class=\\"update-toast__text\\">\\r\\n        <div class=\\"update-toast__title\\">Installing Update</div>\\r\\n        <div class=\\"update-toast__message\\">Please wait while we install the latest version...</div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n{/if}\\r\\n\\r\\n<style>\\r\\n  .update-toast {\\r\\n    position: fixed;\\r\\n    top: 20px;\\r\\n    right: 20px;\\r\\n    z-index: 1000;\\r\\n    max-width: 400px;\\r\\n    background: rgba(26, 26, 26, 0.95);\\r\\n    backdrop-filter: blur(10px);\\r\\n    border: 1px solid rgba(74, 144, 226, 0.3);\\r\\n    border-radius: 12px;\\r\\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\\r\\n    animation: slideIn 0.3s ease-out;\\r\\n  }\\r\\n\\r\\n  .update-toast--installing {\\r\\n    border-color: rgba(255, 107, 107, 0.3);\\r\\n  }\\r\\n\\r\\n  .update-toast__content {\\r\\n    display: flex;\\r\\n    align-items: flex-start;\\r\\n    gap: 12px;\\r\\n    padding: 16px;\\r\\n  }\\r\\n\\r\\n  .update-toast__icon {\\r\\n    flex-shrink: 0;\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    color: #4a90e2;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n  }\\r\\n\\r\\n  .update-toast--installing .update-toast__icon {\\r\\n    color: #ff6b6b;\\r\\n  }\\r\\n\\r\\n  .update-toast__spinner {\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    border: 2px solid rgba(255, 107, 107, 0.3);\\r\\n    border-top: 2px solid #ff6b6b;\\r\\n    border-radius: 50%;\\r\\n    animation: spin 1s linear infinite;\\r\\n  }\\r\\n\\r\\n  .update-toast__text {\\r\\n    flex: 1;\\r\\n    min-width: 0;\\r\\n  }\\r\\n\\r\\n  .update-toast__title {\\r\\n    font-size: 14px;\\r\\n    font-weight: 600;\\r\\n    color: #ffffff;\\r\\n    margin-bottom: 4px;\\r\\n  }\\r\\n\\r\\n  .update-toast__message {\\r\\n    font-size: 13px;\\r\\n    color: #cccccc;\\r\\n    line-height: 1.4;\\r\\n  }\\r\\n\\r\\n  .update-toast__actions {\\r\\n    display: flex;\\r\\n    gap: 8px;\\r\\n    margin-top: 12px;\\r\\n  }\\r\\n\\r\\n  .update-toast__button {\\r\\n    padding: 8px 16px;\\r\\n    border: none;\\r\\n    border-radius: 6px;\\r\\n    font-size: 13px;\\r\\n    font-weight: 500;\\r\\n    cursor: pointer;\\r\\n    transition: all 0.2s ease;\\r\\n  }\\r\\n\\r\\n  .update-toast__button--primary {\\r\\n    background: #4a90e2;\\r\\n    color: #ffffff;\\r\\n  }\\r\\n\\r\\n  .update-toast__button--primary:hover {\\r\\n    background: #3a7bc8;\\r\\n  }\\r\\n\\r\\n  .update-toast__button--secondary {\\r\\n    background: rgba(255, 255, 255, 0.1);\\r\\n    color: #cccccc;\\r\\n  }\\r\\n\\r\\n  .update-toast__button--secondary:hover {\\r\\n    background: rgba(255, 255, 255, 0.2);\\r\\n  }\\r\\n\\r\\n  @keyframes slideIn {\\r\\n    from {\\r\\n      transform: translateX(100%);\\r\\n      opacity: 0;\\r\\n    }\\r\\n    to {\\r\\n      transform: translateX(0);\\r\\n      opacity: 1;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  @keyframes spin {\\r\\n    0% { transform: rotate(0deg); }\\r\\n    100% { transform: rotate(360deg); }\\r\\n  }\\r\\n\\r\\n  /* Mobile responsiveness */\\r\\n  @media (max-width: 480px) {\\r\\n    .update-toast {\\r\\n      top: 10px;\\r\\n      right: 10px;\\r\\n      left: 10px;\\r\\n      max-width: none;\\r\\n    }\\r\\n\\r\\n    .update-toast__actions {\\r\\n      flex-direction: column;\\r\\n    }\\r\\n\\r\\n    .update-toast__button {\\r\\n      width: 100%;\\r\\n    }\\r\\n  }\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAmFE,2CAAc,CACZ,QAAQ,CAAE,KAAK,CACf,GAAG,CAAE,IAAI,CACT,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,KAAK,CAChB,UAAU,CAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAClC,eAAe,CAAE,KAAK,IAAI,CAAC,CAC3B,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACzC,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACzC,SAAS,CAAE,sBAAO,CAAC,IAAI,CAAC,QAC1B,CAEA,uDAA0B,CACxB,YAAY,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CACvC,CAEA,oDAAuB,CACrB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,UAAU,CACvB,GAAG,CAAE,IAAI,CACT,OAAO,CAAE,IACX,CAEA,iDAAoB,CAClB,WAAW,CAAE,CAAC,CACd,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MACnB,CAEA,wCAAyB,CAAC,kCAAoB,CAC5C,KAAK,CAAE,OACT,CAEA,oDAAuB,CACrB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC1C,UAAU,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAC7B,aAAa,CAAE,GAAG,CAClB,SAAS,CAAE,mBAAI,CAAC,EAAE,CAAC,MAAM,CAAC,QAC5B,CAEA,iDAAoB,CAClB,IAAI,CAAE,CAAC,CACP,SAAS,CAAE,CACb,CAEA,kDAAqB,CACnB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,OAAO,CACd,aAAa,CAAE,GACjB,CAEA,oDAAuB,CACrB,SAAS,CAAE,IAAI,CACf,KAAK,CAAE,OAAO,CACd,WAAW,CAAE,GACf,CAEA,oDAAuB,CACrB,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,GAAG,CACR,UAAU,CAAE,IACd,CAEA,mDAAsB,CACpB,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IACvB,CAEA,4DAA+B,CAC7B,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACT,CAEA,4DAA8B,MAAO,CACnC,UAAU,CAAE,OACd,CAEA,8DAAiC,CAC/B,UAAU,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACpC,KAAK,CAAE,OACT,CAEA,8DAAgC,MAAO,CACrC,UAAU,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CACrC,CAEA,WAAW,sBAAQ,CACjB,IAAK,CACH,SAAS,CAAE,WAAW,IAAI,CAAC,CAC3B,OAAO,CAAE,CACX,CACA,EAAG,CACD,SAAS,CAAE,WAAW,CAAC,CAAC,CACxB,OAAO,CAAE,CACX,CACF,CAEA,WAAW,mBAAK,CACd,EAAG,CAAE,SAAS,CAAE,OAAO,IAAI,CAAG,CAC9B,IAAK,CAAE,SAAS,CAAE,OAAO,MAAM,CAAG,CACpC,CAGA,MAAO,YAAY,KAAK,CAAE,CACxB,2CAAc,CACZ,GAAG,CAAE,IAAI,CACT,KAAK,CAAE,IAAI,CACX,IAAI,CAAE,IAAI,CACV,SAAS,CAAE,IACb,CAEA,oDAAuB,CACrB,cAAc,CAAE,MAClB,CAEA,mDAAsB,CACpB,KAAK,CAAE,IACT,CACF"}`
};
const UpdateToast = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  onDestroy(() => {
  });
  $$result.css.add(css$1);
  return `${``} ${``}`;
});
const css = {
  code: ".install-prompt.svelte-16t91j5{position:fixed;bottom:20px;left:20px;right:20px;z-index:1000;max-width:400px;margin:0 auto;background:rgba(26, 26, 26, 0.95);backdrop-filter:blur(10px);border:1px solid rgba(74, 144, 226, 0.3);border-radius:12px;box-shadow:0 8px 32px rgba(0, 0, 0, 0.3);animation:svelte-16t91j5-slideUp 0.3s ease-out}.install-prompt__content.svelte-16t91j5{display:flex;align-items:flex-start;gap:12px;padding:16px}.install-prompt__icon.svelte-16t91j5{flex-shrink:0;width:24px;height:24px;color:#4a90e2;display:flex;align-items:center;justify-content:center}.install-prompt__text.svelte-16t91j5{flex:1;min-width:0}.install-prompt__title.svelte-16t91j5{font-size:14px;font-weight:600;color:#ffffff;margin-bottom:4px}.install-prompt__message.svelte-16t91j5{font-size:13px;color:#cccccc;line-height:1.4}.install-prompt__actions.svelte-16t91j5{display:flex;gap:8px;margin-top:12px}.install-prompt__button.svelte-16t91j5{padding:8px 16px;border:none;border-radius:6px;font-size:13px;font-weight:500;cursor:pointer;transition:all 0.2s ease}.install-prompt__button--primary.svelte-16t91j5{background:#4a90e2;color:#ffffff}.install-prompt__button--primary.svelte-16t91j5:hover{background:#3a7bc8}.install-prompt__button--secondary.svelte-16t91j5{background:rgba(255, 255, 255, 0.1);color:#cccccc}.install-prompt__button--secondary.svelte-16t91j5:hover{background:rgba(255, 255, 255, 0.2)}@keyframes svelte-16t91j5-slideUp{from{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@media(max-width: 480px){.install-prompt.svelte-16t91j5{bottom:10px;left:10px;right:10px}.install-prompt__actions.svelte-16t91j5{flex-direction:column}.install-prompt__button.svelte-16t91j5{width:100%}}",
  map: `{"version":3,"file":"InstallPrompt.svelte","sources":["InstallPrompt.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { onMount, onDestroy } from 'svelte';\\nimport { getUpdateManager } from './update-manager';\\nlet deferredPrompt = null;\\nlet showInstallPrompt = false;\\nlet isInstalled = false;\\nonMount(() => {\\n    // Only run in browser environment\\n    if (typeof window === 'undefined')\\n        return;\\n    // Listen for the beforeinstallprompt event\\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\\n    // Check if app is already installed\\n    window.addEventListener('appinstalled', handleAppInstalled);\\n    // Check if running as PWA\\n    if (window.matchMedia('(display-mode: standalone)').matches ||\\n        window.navigator.standalone === true) {\\n        isInstalled = true;\\n    }\\n});\\nonDestroy(() => {\\n    if (typeof window === 'undefined')\\n        return;\\n    window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\\n    window.removeEventListener('appinstalled', handleAppInstalled);\\n});\\nfunction handleBeforeInstallPrompt(event) {\\n    // Prevent the mini-infobar from appearing on mobile\\n    event.preventDefault();\\n    // Stash the event so it can be triggered later\\n    deferredPrompt = event;\\n    // Show the install prompt\\n    showInstallPrompt = true;\\n}\\nfunction handleAppInstalled() {\\n    console.log('PWA was installed');\\n    isInstalled = true;\\n    showInstallPrompt = false;\\n    deferredPrompt = null;\\n}\\nasync function handleInstallClick() {\\n    if (!deferredPrompt) {\\n        return;\\n    }\\n    // Show the install prompt\\n    deferredPrompt.prompt();\\n    // Wait for the user to respond to the prompt\\n    const { outcome } = await deferredPrompt.userChoice;\\n    if (outcome === 'accepted') {\\n        console.log('User accepted the install prompt');\\n    }\\n    else {\\n        console.log('User dismissed the install prompt');\\n    }\\n    // Clear the deferredPrompt\\n    deferredPrompt = null;\\n    showInstallPrompt = false;\\n}\\nfunction handleDismiss() {\\n    showInstallPrompt = false;\\n}\\n<\/script>\\r\\n\\r\\n{#if showInstallPrompt && !isInstalled}\\r\\n  <div class=\\"install-prompt\\" role=\\"dialog\\" aria-labelledby=\\"install-title\\" aria-describedby=\\"install-description\\">\\r\\n    <div class=\\"install-prompt__content\\">\\r\\n      <div class=\\"install-prompt__icon\\">\\r\\n        <svg width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\">\\r\\n          <path d=\\"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z\\" fill=\\"currentColor\\"/>\\r\\n        </svg>\\r\\n      </div>\\r\\n      <div class=\\"install-prompt__text\\">\\r\\n        <div id=\\"install-title\\" class=\\"install-prompt__title\\">Install Draconia Chronicles</div>\\r\\n        <div id=\\"install-description\\" class=\\"install-prompt__message\\">\\r\\n          Install this app on your device for a better gaming experience with offline play.\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\"install-prompt__actions\\">\\r\\n        <button \\r\\n          class=\\"install-prompt__button install-prompt__button--primary\\"\\r\\n          on:click={handleInstallClick}\\r\\n          aria-label=\\"Install Draconia Chronicles\\"\\r\\n        >\\r\\n          Install\\r\\n        </button>\\r\\n        <button \\r\\n          class=\\"install-prompt__button install-prompt__button--secondary\\"\\r\\n          on:click={handleDismiss}\\r\\n          aria-label=\\"Dismiss install prompt\\"\\r\\n        >\\r\\n          Not now\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n{/if}\\r\\n\\r\\n<style>\\r\\n  .install-prompt {\\r\\n    position: fixed;\\r\\n    bottom: 20px;\\r\\n    left: 20px;\\r\\n    right: 20px;\\r\\n    z-index: 1000;\\r\\n    max-width: 400px;\\r\\n    margin: 0 auto;\\r\\n    background: rgba(26, 26, 26, 0.95);\\r\\n    backdrop-filter: blur(10px);\\r\\n    border: 1px solid rgba(74, 144, 226, 0.3);\\r\\n    border-radius: 12px;\\r\\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\\r\\n    animation: slideUp 0.3s ease-out;\\r\\n  }\\r\\n\\r\\n  .install-prompt__content {\\r\\n    display: flex;\\r\\n    align-items: flex-start;\\r\\n    gap: 12px;\\r\\n    padding: 16px;\\r\\n  }\\r\\n\\r\\n  .install-prompt__icon {\\r\\n    flex-shrink: 0;\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    color: #4a90e2;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n  }\\r\\n\\r\\n  .install-prompt__text {\\r\\n    flex: 1;\\r\\n    min-width: 0;\\r\\n  }\\r\\n\\r\\n  .install-prompt__title {\\r\\n    font-size: 14px;\\r\\n    font-weight: 600;\\r\\n    color: #ffffff;\\r\\n    margin-bottom: 4px;\\r\\n  }\\r\\n\\r\\n  .install-prompt__message {\\r\\n    font-size: 13px;\\r\\n    color: #cccccc;\\r\\n    line-height: 1.4;\\r\\n  }\\r\\n\\r\\n  .install-prompt__actions {\\r\\n    display: flex;\\r\\n    gap: 8px;\\r\\n    margin-top: 12px;\\r\\n  }\\r\\n\\r\\n  .install-prompt__button {\\r\\n    padding: 8px 16px;\\r\\n    border: none;\\r\\n    border-radius: 6px;\\r\\n    font-size: 13px;\\r\\n    font-weight: 500;\\r\\n    cursor: pointer;\\r\\n    transition: all 0.2s ease;\\r\\n  }\\r\\n\\r\\n  .install-prompt__button--primary {\\r\\n    background: #4a90e2;\\r\\n    color: #ffffff;\\r\\n  }\\r\\n\\r\\n  .install-prompt__button--primary:hover {\\r\\n    background: #3a7bc8;\\r\\n  }\\r\\n\\r\\n  .install-prompt__button--secondary {\\r\\n    background: rgba(255, 255, 255, 0.1);\\r\\n    color: #cccccc;\\r\\n  }\\r\\n\\r\\n  .install-prompt__button--secondary:hover {\\r\\n    background: rgba(255, 255, 255, 0.2);\\r\\n  }\\r\\n\\r\\n  @keyframes slideUp {\\r\\n    from {\\r\\n      transform: translateY(100%);\\r\\n      opacity: 0;\\r\\n    }\\r\\n    to {\\r\\n      transform: translateY(0);\\r\\n      opacity: 1;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  /* Mobile responsiveness */\\r\\n  @media (max-width: 480px) {\\r\\n    .install-prompt {\\r\\n      bottom: 10px;\\r\\n      left: 10px;\\r\\n      right: 10px;\\r\\n    }\\r\\n\\r\\n    .install-prompt__actions {\\r\\n      flex-direction: column;\\r\\n    }\\r\\n\\r\\n    .install-prompt__button {\\r\\n      width: 100%;\\r\\n    }\\r\\n  }\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAiGE,8BAAgB,CACd,QAAQ,CAAE,KAAK,CACf,MAAM,CAAE,IAAI,CACZ,IAAI,CAAE,IAAI,CACV,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAClC,eAAe,CAAE,KAAK,IAAI,CAAC,CAC3B,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACzC,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACzC,SAAS,CAAE,sBAAO,CAAC,IAAI,CAAC,QAC1B,CAEA,uCAAyB,CACvB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,UAAU,CACvB,GAAG,CAAE,IAAI,CACT,OAAO,CAAE,IACX,CAEA,oCAAsB,CACpB,WAAW,CAAE,CAAC,CACd,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,OAAO,CACd,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MACnB,CAEA,oCAAsB,CACpB,IAAI,CAAE,CAAC,CACP,SAAS,CAAE,CACb,CAEA,qCAAuB,CACrB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,OAAO,CACd,aAAa,CAAE,GACjB,CAEA,uCAAyB,CACvB,SAAS,CAAE,IAAI,CACf,KAAK,CAAE,OAAO,CACd,WAAW,CAAE,GACf,CAEA,uCAAyB,CACvB,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,GAAG,CACR,UAAU,CAAE,IACd,CAEA,sCAAwB,CACtB,OAAO,CAAE,GAAG,CAAC,IAAI,CACjB,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,SAAS,CAAE,IAAI,CACf,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,OAAO,CACf,UAAU,CAAE,GAAG,CAAC,IAAI,CAAC,IACvB,CAEA,+CAAiC,CAC/B,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACT,CAEA,+CAAgC,MAAO,CACrC,UAAU,CAAE,OACd,CAEA,iDAAmC,CACjC,UAAU,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACpC,KAAK,CAAE,OACT,CAEA,iDAAkC,MAAO,CACvC,UAAU,CAAE,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CACrC,CAEA,WAAW,sBAAQ,CACjB,IAAK,CACH,SAAS,CAAE,WAAW,IAAI,CAAC,CAC3B,OAAO,CAAE,CACX,CACA,EAAG,CACD,SAAS,CAAE,WAAW,CAAC,CAAC,CACxB,OAAO,CAAE,CACX,CACF,CAGA,MAAO,YAAY,KAAK,CAAE,CACxB,8BAAgB,CACd,MAAM,CAAE,IAAI,CACZ,IAAI,CAAE,IAAI,CACV,KAAK,CAAE,IACT,CAEA,uCAAyB,CACvB,cAAc,CAAE,MAClB,CAEA,sCAAwB,CACtB,KAAK,CAAE,IACT,CACF"}`
};
const InstallPrompt = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let showInstallPrompt = false;
  let isInstalled = false;
  onDestroy(() => {
    if (typeof window === "undefined") return;
    window.removeEventListener("beforeinstallprompt", handleBeforeInstallPrompt);
    window.removeEventListener("appinstalled", handleAppInstalled);
  });
  function handleBeforeInstallPrompt(event) {
    event.preventDefault();
    showInstallPrompt = true;
  }
  function handleAppInstalled() {
    console.log("PWA was installed");
    isInstalled = true;
    showInstallPrompt = false;
  }
  $$result.css.add(css);
  return `${showInstallPrompt && !isInstalled ? `<div class="install-prompt svelte-16t91j5" role="dialog" aria-labelledby="install-title" aria-describedby="install-description"><div class="install-prompt__content svelte-16t91j5"><div class="install-prompt__icon svelte-16t91j5" data-svelte-h="svelte-17pa355"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" fill="currentColor"></path></svg></div> <div class="install-prompt__text svelte-16t91j5" data-svelte-h="svelte-13founr"><div id="install-title" class="install-prompt__title svelte-16t91j5">Install Draconia Chronicles</div> <div id="install-description" class="install-prompt__message svelte-16t91j5">Install this app on your device for a better gaming experience with offline play.</div></div> <div class="install-prompt__actions svelte-16t91j5"><button class="install-prompt__button install-prompt__button--primary svelte-16t91j5" aria-label="Install Draconia Chronicles" data-svelte-h="svelte-1xeq92o">Install</button> <button class="install-prompt__button install-prompt__button--secondary svelte-16t91j5" aria-label="Dismiss install prompt" data-svelte-h="svelte-15l296w">Not now</button></div></div></div>` : ``}`;
});
const Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $hudEnabled, $$unsubscribe_hudEnabled;
  $$unsubscribe_hudEnabled = subscribe(hudEnabled, (value) => $hudEnabled = value);
  let canvas;
  let handle = null;
  onDestroy(() => handle?.destroy());
  $$unsubscribe_hudEnabled();
  return `<div style="position:fixed; inset:0; overflow:hidden;"><canvas style="width:100%; height:100%; display:block;"${add_attribute("this", canvas, 0)}></canvas> ${$hudEnabled ? `${slots.hud ? slots.hud({}) : ``}` : ``}</div>  ${validate_component(UpdateToast, "UpdateToast").$$render($$result, {}, {}, {})}  ${validate_component(InstallPrompt, "InstallPrompt").$$render($$result, {}, {}, {})} ${slots.default ? slots.default({}) : ``}`;
});
export {
  Layout as default
};
