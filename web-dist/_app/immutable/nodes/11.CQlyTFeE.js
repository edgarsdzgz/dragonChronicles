import"../chunks/DsnmJJEf.js";import{i as z}from"../chunks/CP9tZzGG.js";import{g as G,o as P,A as T,i as B,u as D,B as v,k as E,l as R,r as s,q as a,v as _,w as p,n as y,m as k,t as d,C as U}from"../chunks/DzhVMzrA.js";import{b as j}from"../chunks/Dh9k4Bes.js";import"../chunks/B2cBvE-Z.js";import{c as F}from"../chunks/BPzeXWJL.js";import{A as H}from"../chunks/Bdegg2L_.js";import{G as I}from"../chunks/DYyOJ_hf.js";var J=B('<div style="position:fixed; inset:0;"><canvas style="width:100%; height:100%; display:block;"></canvas> <div style="position:absolute; right:8px; top:8px; background:rgba(0,0,0,.6); color:#fff; padding:8px; border-radius:6px; font:12px system-ui;"><button style="margin-right:6px;">Spawn 100</button> <button style="margin-right:6px;">Spawn 1000</button> <button>Recycle All</button> <div> </div> <div> </div></div></div>');function Y(A,M){G(M,!1);let i=y(),t,l=y(0);const r=F(void 0,200);function f(e){for(let o=0;o<e;o++){const q=new I().circle(Math.random()*6+2).fill(16777215*Math.random()),n=r.acquire();n.visible=!0,n.position.set(Math.random()*t.renderer.width,Math.random()*t.renderer.height),n.texture=t.renderer.generateTexture(q),t.stage.addChild(n),U(l)}}function S(){for(const e of[...t.stage.children])"texture"in e&&r.release(e),t.stage.removeChild(e);k(l,0)}P(async()=>{t=new H({view:p(i),backgroundAlpha:0}),await t.init({resizeTo:p(i).parentElement??window})}),T(()=>t?.destroy(!0,{children:!0})),z();var c=J(),m=s(c);j(m,e=>k(i,e),()=>p(i));var h=a(m,2),b=s(h),g=a(b,2),x=a(g,2),u=a(x,2),C=s(u);d(u);var w=a(u,2),$=s(w);d(w),d(h),d(c),D((e,o)=>{_(C,`Spawned: ${p(l)??""}`),_($,`Pool: ${e??""} total, ${o??""} in use`)},[()=>r.size(),()=>r.inUse()]),v("click",b,()=>f(100)),v("click",g,()=>f(1e3)),v("click",x,S),E(A,c),R()}export{Y as component};
