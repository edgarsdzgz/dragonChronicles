import"../chunks/DsnmJJEf.js";import{i as P}from"../chunks/CP9tZzGG.js";import{g as A,A as B,i as C,u as z,w as t,B as k,k as F,l as G,q as e,r,m as s,n as l,t as i,v as H,C as O}from"../chunks/DzhVMzrA.js";import{b as S,r as U}from"../chunks/DX-_nXvY.js";import{g as j}from"../chunks/B9jscr3M.js";var K=C('<div style="padding:12px; font:14px system-ui;"><h3>Logging Perf Lab</h3> <div style="margin-bottom: 16px;"><label>Rate (logs/sec) <input type="number" min="10" max="10000"/></label> <label>Duration (s) <input type="number" min="1" max="30"/></label></div> <div style="margin-bottom: 16px;"><button>Start</button> <button>Stop</button> <button>Export NDJSON</button></div> <div> </div></div>');function Y(T,$){A($,!1);let p=l(100),u=l(10),a=l(!1),c=l(0),d=l(0),L;async function q(){s(a,!0),s(c,0),s(d,0),performance.now();const o=await j(),y=1e3/t(p);L=setInterval(()=>{for(let n=0;n<1;n++){O(c);try{o.log({t:Date.now(),lvl:"info",src:"ui",msg:"perf",data:{seq:t(c)}})}catch{O(d)}}},y),setTimeout(v,t(u)*1e3)}function v(){t(a)&&(clearInterval(L),s(a,!1))}B(v);async function E(){const y=await(await j()).exportNDJSON(),h=URL.createObjectURL(y),n=document.createElement("a");n.href=h,n.download="logs.ndjson",n.click(),URL.revokeObjectURL(h)}P();var m=K(),b=e(r(m),2),g=r(b),w=e(r(g));U(w),i(g);var D=e(g,2),R=e(r(D));U(R),i(D),i(b);var f=e(b,2),_=r(f),x=e(_,2),I=e(x,2);i(f);var N=e(f,2),J=r(N);i(N),i(m),z(()=>{_.disabled=t(a),x.disabled=!t(a),H(J,`Produced: ${t(c)??""} Dropped: ${t(d)??""} Running: ${t(a)?"yes":"no"}`)}),S(w,()=>t(p),o=>s(p,o)),S(R,()=>t(u),o=>s(u,o)),k("click",_,q),k("click",x,v),k("click",I,E),F(T,m),G()}export{Y as component};
