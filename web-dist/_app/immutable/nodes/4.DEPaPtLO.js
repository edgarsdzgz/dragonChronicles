import"../chunks/DsnmJJEf.js";import{i as E}from"../chunks/CP9tZzGG.js";import{g as L,n as d,o as R,A as U,i as j,u as G,B as k,k as H,l as I,r,w as e,v as h,m as l,q as i,t as o,C as J}from"../chunks/DzhVMzrA.js";import{b as K}from"../chunks/Dh9k4Bes.js";import{T as N}from"../chunks/B2cBvE-Z.js";import{c as A}from"../chunks/BPzeXWJL.js";import{A as O}from"../chunks/Bdegg2L_.js";var Q=j('<div style="position:fixed; inset:0; background: #1a1a2e;"><canvas style="width:100%; height:100%; display:block;"></canvas> <div style="position:absolute; right:8px; top:8px; background:rgba(0,0,0,.8); color:#fff; padding:12px; border-radius:8px; font:12px system-ui; min-width:200px;"><h3 style="margin:0 0 8px 0; font-size:14px;">Dragon Sprite Test</h3> <div style="margin-bottom:8px;"><button style="margin:2px; padding:6px 12px; background:#4CAF50;">Spawn Dragon</button></div> <div style="margin-bottom:8px;"><button style="margin:2px; padding:6px 12px; background:#f44336;">Recycle All</button></div> <div style="border-top:1px solid #444; padding-top:8px; margin-top:8px;"><div> </div> <div> </div> <div style="font-size:10px; color:#888;"> </div></div></div></div>');function at(T,D){L(D,!1);let s=d(),a,p=d(0),v=null,n=d(A(void 0,50)),c=d(!1);async function z(){try{v=N.from("/sprites/dragon_fly_128_sheet.svg"),l(n,A(v,50)),l(c,!0),console.log("Dragon texture loaded successfully")}catch(t){console.error("Failed to load dragon texture:",t)}}function C(){if(!e(c)||!v)return;const t=e(n).acquire();t.visible=!0,t.position.set(Math.random()*(a.renderer.width-128),Math.random()*(a.renderer.height-128)),t.scale.set(.5),a.stage.addChild(t),J(p)}function S(){for(const t of[...a.stage.children])"texture"in t&&e(n).release(t),a.stage.removeChild(t);l(p,0)}R(async()=>{a=new O({view:e(s),backgroundAlpha:0}),await a.init({resizeTo:e(s).parentElement??window}),await z()}),U(()=>a?.destroy(!0,{children:!0})),E();var u=Q(),b=r(u);K(b,t=>l(s,t),()=>e(s));var y=i(b,2),g=i(r(y),2),M=r(g);o(g);var m=i(g,2),$=r(m);o(m);var _=i(m,2),x=r(_),q=r(x);o(x);var f=i(x,2),F=r(f);o(f);var w=i(f,2),P=r(w,!0);o(w),o(_),o(y),o(u),G((t,B)=>{h(q,`Spawned: ${e(p)??""}`),h(F,`Pool: ${t??""} total, ${B??""} in use`),h(P,e(c)?"Texture loaded âœ“":"Loading texture...")},[()=>e(n).size(),()=>e(n).inUse()]),k("click",M,C),k("click",$,S),H(T,u),I()}export{at as component};
