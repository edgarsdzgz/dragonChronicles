import"./DsnmJJEf.js";import{i as D}from"./CP9tZzGG.js";import{g as k,o as C,m as e,n as u,A as P,am as E,j as A,w as f,k as w,l as B,i as M,r as n,q as _,t as o,B as h}from"./DzhVMzrA.js";import{i as U}from"./DSEsMLIz.js";var j=M('<div class="install-prompt svelte-1xrusqt" role="dialog" aria-labelledby="install-title" aria-describedby="install-description"><div class="install-prompt__content svelte-1xrusqt"><div class="install-prompt__icon svelte-1xrusqt"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" fill="currentColor"></path></svg></div> <div class="install-prompt__text svelte-1xrusqt"><div id="install-title" class="install-prompt__title svelte-1xrusqt">Install Draconia Chronicles</div> <div id="install-description" class="install-prompt__message svelte-1xrusqt">Install this app on your device for a better gaming experience with offline play.</div></div> <div class="install-prompt__actions svelte-1xrusqt"><button class="install-prompt__button install-prompt__button--primary svelte-1xrusqt" aria-label="Install Draconia Chronicles">Install</button> <button class="install-prompt__button install-prompt__button--secondary svelte-1xrusqt" aria-label="Dismiss install prompt">Not now</button></div></div></div>');function F(b,g){k(g,!1);let l=null,s=u(!1),a=u(!1);C(()=>{typeof window>"u"||(window.addEventListener("beforeinstallprompt",r),window.addEventListener("appinstalled",d),(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0)&&e(a,!0))}),P(()=>{typeof window>"u"||(window.removeEventListener("beforeinstallprompt",r),window.removeEventListener("appinstalled",d))});function r(t){t.preventDefault(),l=t,e(s,!0)}function d(){console.log("PWA was installed"),e(a,!0),e(s,!1),l=null}async function x(){if(!l)return;l.prompt();const{outcome:t}=await l.userChoice;console.log(t==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),l=null,e(s,!1)}function L(){e(s,!1)}D();var p=E(),y=A(p);{var q=t=>{var i=j(),c=n(i),m=_(n(c),4),v=n(m),I=_(v,2);o(m),o(c),o(i),h("click",v,x),h("click",I,L),w(t,i)};U(y,t=>{f(s)&&!f(a)&&t(q)})}w(b,p),B()}export{F as default};
