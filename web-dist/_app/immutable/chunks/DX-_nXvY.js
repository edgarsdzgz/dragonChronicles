import{h as n,a8 as d,a9 as i,aa as h,ab as m,ac as b,ad as k,M as S,L as y,e as v,ae as A}from"./DzhVMzrA.js";const E=Symbol("is custom element"),M=Symbol("is html");function T(e){if(n){var a=!1,s=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var c=e.value;t(e,"value",null),e.value=c}if(e.hasAttribute("checked")){var r=e.checked;t(e,"checked",null),e.checked=r}}};e.__on_r=s,d(s),i()}}function t(e,a,s,c){var r=L(e);n&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=s)&&(a==="loading"&&(e[h]=s),e.removeAttribute(a))}function L(e){return e.__attributes??={[E]:e.nodeName.includes("-"),[M]:e.namespaceURI===m}}function I(e,a,s=a){var c=new WeakSet;b(e,"input",async r=>{var l=r?e.defaultValue:e.value;if(l=_(e)?f(l):l,s(l),v!==null&&c.add(v),await k(),l!==(l=a())){var u=e.selectionStart,o=e.selectionEnd;e.value=l??"",o!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(o,e.value.length))}}),(n&&e.defaultValue!==e.value||S(a)==null&&e.value)&&(s(_(e)?f(e.value):e.value),v!==null&&c.add(v)),y(()=>{var r=a();if(e===document.activeElement){var l=A??v;if(c.has(l))return}_(e)&&r===f(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function _(e){var a=e.type;return a==="number"||a==="range"}function f(e){return e===""?null:+e}export{I as b,T as r};
